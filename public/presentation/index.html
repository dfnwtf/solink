<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOLink | Presentation</title>
    <style>
        /* Import Space Grotesk font */
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');

        /* ===== RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #010103;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* ===== PRESENTATION CONTAINER ===== */
        .presentation {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== BACKGROUND LAYERS ===== */
        .bg-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 58s ease-out;
        }

        .bg-layer.fade-in {
            opacity: 1;
        }

        /* Subtle film grain overlay */
        .grain-layer {
            position: absolute;
            inset: 0;
            pointer-events: none;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
            background-size: 260px 260px;
            background-blend-mode: soft-light;
            z-index: 2;
        }

        /* Base gradient - dark background */
        .bg-base {
            background: linear-gradient(
                180deg,
                #040306 0%,
                #05040a 18%,
                #0b1524 32%,
                #101d2a 45%,
                #0c121e 58%,
                #05080f 70%,
                #010103 100%
            );
        }

        /* Purple glow - INITIAL state (top-left) */
        .bg-glow-purple {
            background: radial-gradient(
                ellipse 60% 100% at 25% 30%,
                rgba(135, 82, 255, 0.5) 0%,
                rgba(135, 82, 255, 0) 60%
            );
            mix-blend-mode: screen;
            transition: all 3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bg-glow-purple.state-presentation {
            background: radial-gradient(
                ellipse 50% 90% at 50% 50%,
                rgba(135, 82, 255, 0.4) 0%,
                rgba(135, 82, 255, 0) 60%
            );
        }

        /* Pink glow - INITIAL state (bottom-right) */
        .bg-glow-pink {
            background: radial-gradient(
                ellipse 50% 90% at 75% 70%,
                rgba(255, 115, 175, 0.35) 0%,
                rgba(255, 115, 175, 0) 68%
            );
            mix-blend-mode: screen;
            transition: all 3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bg-glow-pink.state-presentation {
            background: radial-gradient(
                ellipse 50% 90% at 75% 70%,
                rgba(255, 115, 175, 0.25) 0%,
                rgba(255, 115, 175, 0) 68%
            );
        }

        /* Light purple center glow */
        .bg-glow-center {
            background: radial-gradient(
                ellipse 70% 120% at 50% 50%,
                rgba(177, 123, 255, 0.2) 0%,
                rgba(177, 123, 255, 0) 70%
            );
            mix-blend-mode: screen;
        }

        /* Vignette - left */
        .bg-vignette-left {
            background: radial-gradient(
                ellipse 30% 50% at 2% 50%,
                rgba(2, 1, 3, 0.95) 0%,
                rgba(2, 1, 3, 0) 100%
            );
        }

        /* Vignette - right */
        .bg-vignette-right {
            background: radial-gradient(
                ellipse 30% 50% at 98% 50%,
                rgba(2, 1, 3, 0.95) 0%,
                rgba(2, 1, 3, 0) 100%
            );
        }

        /* Vignette - bottom */
        .bg-vignette-bottom {
            background: radial-gradient(
                ellipse 70% 60% at 50% 98%,
                rgba(1, 1, 2, 0.95) 0%,
                rgba(1, 1, 2, 0) 100%
            );
        }

        /* Vignette - top */
        .bg-vignette-top {
            background: radial-gradient(
                ellipse 70% 60% at 50% 2%,
                rgba(1, 1, 2, 0.9) 0%,
                rgba(1, 1, 2, 0) 100%
            );
        }

        /* ===== CONTENT LAYERS ===== */
        .content-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            pointer-events: none;
        }

        .content-layer.active {
            opacity: 1;
        }

        /* Logo layer - instant appearance on beat */
        #layerLogo {
            transition: opacity 0.1s ease-out;
        }

        /* ===== ARCHITECTURE SLIDE ===== */
        .architecture-svg {
            width: 100%;
            height: 100%;
            max-width: 1920px;
            max-height: 1080px;
        }

        /* Initial state - hidden */
        .arch-title,
        .arch-center-block,
        .arch-line,
        .arch-block {
            opacity: 0;
        }

        .arch-line {
            transform-origin: center;
            transform: scaleX(0);
        }
        
        .line-left-top, .line-left-mid, .line-left-bot {
            transform-origin: right center;
        }
        
        .line-right-top, .line-right-mid, .line-right-bot {
            transform-origin: left center;
        }
        
        .line-top {
            transform-origin: center bottom;
            transform: scaleY(0);
        }
        
        .line-bottom {
            transform-origin: center top;
            transform: scaleY(0);
        }

        .arch-block {
            transform: scale(0.8);
            transform-origin: center;
            transition: filter 1.1s ease, opacity 1.1s ease;
        }

        /* When architecture layer is active - trigger animations */
        #layerArchitecture.active .arch-title {
            animation: arch-fade-in 0.8s ease-out forwards;
        }

        #layerArchitecture.active .arch-center-block {
            animation: arch-center-fadein 0.85s cubic-bezier(0.23, 0.82, 0.26, 1) forwards;
        }

        .arch-center-block {
            transition: filter 1.6s ease, opacity 1.6s ease;
        }

        #layerArchitecture.active .arch-line {
            animation: arch-line-grow-x 3.9s linear forwards;
        }
        
        #layerArchitecture.active .line-top,
        #layerArchitecture.active .line-bottom {
            animation: arch-line-grow-y 3.9s linear forwards;
        }

        #layerArchitecture.active .arch-block {
            animation: arch-block-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        /* Highlight effects */
        .arch-block.highlight-side {
            filter:
                drop-shadow(0 0 36px rgba(135, 82, 255, 0.95))
                drop-shadow(0 0 18px rgba(135, 82, 255, 0.7))
                brightness(1.12);
        }

        .arch-center-block.highlight-center {
            filter:
                drop-shadow(0 0 60px rgba(239, 68, 68, 1))
                drop-shadow(0 0 30px rgba(239, 68, 68, 0.9))
                brightness(1.15);
            transition: filter 0s linear, opacity 0.4s ease;
            animation: center-flicker 1.2s ease-in-out infinite;
        }

        .arch-center-block.highlight-center rect {
            stroke: rgba(239, 68, 68, 0.9);
            filter:
                drop-shadow(0 0 38px rgba(239, 68, 68, 0.9))
                drop-shadow(0 0 20px rgba(239, 68, 68, 0.7));
        }

        .arch-center-block.highlight-center text {
            fill: #ffe1e1;
        }

        .arch-center-block rect,
        .arch-center-block text {
            transition: filter 1.6s ease, stroke 1.6s ease, fill 1.6s ease, opacity 1.6s ease;
        }

        @keyframes center-flicker {
            0%, 100% { filter: drop-shadow(0 0 60px rgba(239, 68, 68, 1)) drop-shadow(0 0 30px rgba(239, 68, 68, 0.9)) brightness(1.2); opacity: 1; }
            10% { filter: drop-shadow(0 0 95px rgba(239, 68, 68, 1)) drop-shadow(0 0 55px rgba(239, 68, 68, 1)) brightness(1.55); opacity: 1; }
            20% { filter: drop-shadow(0 0 42px rgba(239, 68, 68, 0.6)) drop-shadow(0 0 20px rgba(239, 68, 68, 0.5)) brightness(0.75); opacity: 0.75; }
            32% { filter: drop-shadow(0 0 110px rgba(239, 68, 68, 1)) drop-shadow(0 0 68px rgba(239, 68, 68, 1)) brightness(1.8); opacity: 1; }
            48% { filter: drop-shadow(0 0 50px rgba(239, 68, 68, 0.7)) drop-shadow(0 0 24px rgba(239, 68, 68, 0.6)) brightness(0.85); opacity: 0.8; }
            64% { filter: drop-shadow(0 0 120px rgba(239, 68, 68, 1)) drop-shadow(0 0 72px rgba(239, 68, 68, 1)) brightness(1.9); opacity: 1; }
            82% { filter: drop-shadow(0 0 46px rgba(239, 68, 68, 0.6)) drop-shadow(0 0 20px rgba(239, 68, 68, 0.5)) brightness(0.7); opacity: 0.7; }
        }

        /* Stagger block animations - 3.9s = when lines finish (9.4 + 3.9 = 13.3) */
        #layerArchitecture.active .block-left-top { animation-delay: 3.9s; }
        #layerArchitecture.active .block-left-mid { animation-delay: 4.0s; }
        #layerArchitecture.active .block-left-bot { animation-delay: 4.1s; }
        #layerArchitecture.active .block-right-top { animation-delay: 3.9s; }
        #layerArchitecture.active .block-right-mid { animation-delay: 4.0s; }
        #layerArchitecture.active .block-right-bot { animation-delay: 4.1s; }
        #layerArchitecture.active .block-top { animation-delay: 3.85s; }
        #layerArchitecture.active .block-bottom { animation-delay: 4.2s; }
        
        /* Line labels fade in */
        .arch-line-label {
            opacity: 0;
        }
        #layerArchitecture.active .arch-line-label {
            animation: arch-fade-in 0.6s ease-out forwards;
            animation-delay: 2s;
        }

        @keyframes arch-fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes arch-center-fadein {
            0% { 
                opacity: 0; 
                transform: translateY(0) scale(1);
                filter: blur(8px) brightness(1.04);
            }
            40% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(3px) brightness(1.02);
            }
            70% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(1px) brightness(1);
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1);
                filter: blur(0px) brightness(1);
            }
        }

        @keyframes arch-line-grow-x {
            0% { 
                transform: scaleX(0);
                opacity: 0;
            }
            100% { 
                transform: scaleX(1);
                opacity: 1;
            }
        }
        
        @keyframes arch-line-grow-y {
            0% { 
                transform: scaleY(0);
                opacity: 0;
            }
            100% { 
                transform: scaleY(1);
                opacity: 1;
            }
        }

        @keyframes arch-block-pop {
            from { 
                opacity: 0; 
                transform: scale(0.8);
            }
            to { 
                opacity: 1; 
                transform: scale(1);
            }
        }

        /* ===== ARCHITECTURE EXIT ANIMATION ===== */
        #layerArchitecture.exit-swipe {
            animation: arch-swipe-out 0.25s cubic-bezier(0.7, 0, 1, 0.5) forwards;
        }
        
        @keyframes arch-swipe-out {
            0% { 
                transform: translateX(0) scale(1); 
                filter: blur(0); 
                opacity: 1; 
            }
            100% { 
                transform: translateX(-120vw) scale(0.85); 
                filter: blur(25px); 
                opacity: 0; 
            }
        }

        /* ===== IMPACT FLASH OVERLAY ===== */
        .impact-flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            opacity: 0;
            background: radial-gradient(ellipse 80% 80% at 50% 50%, 
                rgba(255,255,255,1) 0%, 
                rgba(135,82,255,0.8) 30%,
                rgba(255,115,175,0.4) 60%,
                transparent 100%);
        }
        
        .impact-flash.trigger {
            animation: impact-boom 0.35s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        
        @keyframes impact-boom {
            0% { opacity: 0; transform: scale(0.5); }
            15% { opacity: 1; transform: scale(1.2); }
            40% { opacity: 0.9; transform: scale(1.1); }
            100% { opacity: 0; transform: scale(1.5); }
        }

        /* ===== SCREEN SHAKE ON IMPACT ===== */
        .presentation.screen-shake {
            animation: screen-shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) forwards;
        }
        
        @keyframes screen-shake {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            10% { transform: translate(-8px, 4px) rotate(-0.5deg); }
            20% { transform: translate(10px, -6px) rotate(0.7deg); }
            30% { transform: translate(-6px, 3px) rotate(-0.4deg); }
            40% { transform: translate(8px, -4px) rotate(0.5deg); }
            50% { transform: translate(-4px, 2px) rotate(-0.2deg); }
            60% { transform: translate(5px, -2px) rotate(0.3deg); }
            70% { transform: translate(-3px, 1px) rotate(-0.1deg); }
            80% { transform: translate(2px, -1px) rotate(0.1deg); }
            90% { transform: translate(-1px, 0px) rotate(0deg); }
        }

        /* ===== SECURITY & ENCRYPTION SLIDE ===== */
        :root {
            --sec-ease: cubic-bezier(0.25, 0.9, 0.35, 1);
            --impact-ease: cubic-bezier(0.16, 1, 0.3, 1);
        }

        .security-stage {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: min(3vh, 40px) min(3vw, 40px);
        }

        .security-card-frame {
            width: min(94vw, 1700px);
            max-width: 1700px;
            aspect-ratio: 16 / 9;
            filter: drop-shadow(0 18px 48px rgba(0, 0, 0, 0.28));
        }

        #securityCard {
            width: 100%;
            height: 100%;
        }

        /* ===== PHASE 1: HEADER IMPACT (instant on beat) ===== */
        .sec-header {
            opacity: 0;
            transform: scale(1.3);
            filter: blur(20px) brightness(2);
        }
        
        #securityCard.phase-1 .sec-header {
            animation: header-impact 0.15s var(--impact-ease) forwards;
        }
        
        @keyframes header-impact {
            0% { opacity: 0; transform: scale(1.3); filter: blur(20px) brightness(2); }
            60% { opacity: 1; transform: scale(0.98); filter: blur(2px) brightness(1.3); }
            100% { opacity: 1; transform: scale(1); filter: blur(0) brightness(1); }
        }
        
        /* SOLINK title frame lines */
        .sec-frame-lines {
            opacity: 0;
        }
        
        #securityCard.phase-1 .sec-frame-lines {
            animation: lines-draw 0.8s var(--sec-ease) 0.1s forwards;
        }
        
        @keyframes lines-draw {
            0% { opacity: 0; stroke-dasharray: 100%; stroke-dashoffset: 100%; }
            50% { opacity: 1; }
            100% { opacity: 1; stroke-dasharray: 100%; stroke-dashoffset: 0%; }
        }
        
        /* Subtitle appears after header */
        .sec-subtitle {
            opacity: 0;
            filter: blur(8px);
        }
        
        #securityCard.phase-1 .sec-subtitle {
            animation: subtitle-fade 0.5s var(--sec-ease) 0.12s forwards;
        }
        
        @keyframes subtitle-fade {
            0% { opacity: 0; filter: blur(8px); }
            100% { opacity: 1; filter: blur(0); }
        }
        
        /* Description text */
        .sec-desc {
            opacity: 0;
        }
        
        #securityCard.phase-1 .sec-desc {
            animation: desc-fade 0.6s var(--sec-ease) 0.25s forwards;
        }
        
        @keyframes desc-fade {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* ===== PHASE 2: CARDS IMPACT APPEAR ===== */
        .sec-card {
            opacity: 0;
            filter: blur(20px) brightness(2);
        }
        
        /* Top row cards - staggered impact appearance */
        #securityCard.phase-2 .card-key {
            animation: card-impact-purple 0.5s var(--impact-ease) 0s forwards;
        }
        
        #securityCard.phase-2 .card-msg {
            animation: card-impact-pink 0.5s var(--impact-ease) 0.08s forwards;
        }
        
        #securityCard.phase-2 .card-voice {
            animation: card-impact-lilac 0.5s var(--impact-ease) 0.16s forwards;
        }
        
        /* Bottom row cards */
        #securityCard.phase-2 .card-wallet {
            animation: card-impact-green 0.5s var(--impact-ease) 0.24s forwards;
        }
        
        #securityCard.phase-2 .card-headers {
            animation: card-impact-purple 0.5s var(--impact-ease) 0.32s forwards;
        }
        
        #securityCard.phase-2 .card-data {
            animation: card-impact-pink 0.5s var(--impact-ease) 0.4s forwards;
        }
        
        /* Impact animations - no transform to preserve SVG positions */
        @keyframes card-impact-purple {
            0% { 
                opacity: 0; 
                filter: blur(25px) brightness(2.5) drop-shadow(0 0 80px rgba(135,82,255,1)); 
            }
            30% { 
                opacity: 1; 
                filter: blur(8px) brightness(1.8) drop-shadow(0 0 60px rgba(135,82,255,0.9)); 
            }
            60% { 
                opacity: 1; 
                filter: blur(3px) brightness(1.3) drop-shadow(0 0 40px rgba(135,82,255,0.6)); 
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1) drop-shadow(0 0 15px rgba(135,82,255,0.3)); 
            }
        }
        
        @keyframes card-impact-pink {
            0% { 
                opacity: 0; 
                filter: blur(25px) brightness(2.5) drop-shadow(0 0 80px rgba(255,115,175,1)); 
            }
            30% { 
                opacity: 1; 
                filter: blur(8px) brightness(1.8) drop-shadow(0 0 60px rgba(255,115,175,0.9)); 
            }
            60% { 
                opacity: 1; 
                filter: blur(3px) brightness(1.3) drop-shadow(0 0 40px rgba(255,115,175,0.6)); 
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1) drop-shadow(0 0 15px rgba(255,115,175,0.3)); 
            }
        }
        
        @keyframes card-impact-lilac {
            0% { 
                opacity: 0; 
                filter: blur(25px) brightness(2.5) drop-shadow(0 0 80px rgba(177,123,255,1)); 
            }
            30% { 
                opacity: 1; 
                filter: blur(8px) brightness(1.8) drop-shadow(0 0 60px rgba(177,123,255,0.9)); 
            }
            60% { 
                opacity: 1; 
                filter: blur(3px) brightness(1.3) drop-shadow(0 0 40px rgba(177,123,255,0.6)); 
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1) drop-shadow(0 0 15px rgba(177,123,255,0.3)); 
            }
        }
        
        @keyframes card-impact-green {
            0% { 
                opacity: 0; 
                filter: blur(25px) brightness(2.5) drop-shadow(0 0 80px rgba(20,241,149,1)); 
            }
            30% { 
                opacity: 1; 
                filter: blur(8px) brightness(1.8) drop-shadow(0 0 60px rgba(20,241,149,0.9)); 
            }
            60% { 
                opacity: 1; 
                filter: blur(3px) brightness(1.3) drop-shadow(0 0 40px rgba(20,241,149,0.6)); 
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1) drop-shadow(0 0 15px rgba(20,241,149,0.3)); 
            }
        }

        /* ===== PHASE 3: FOOTER ELEMENTS ===== */
        .sec-ratings, .sec-flow, .sec-footer {
            opacity: 0;
        }
        
        #securityCard.phase-3 .sec-ratings {
            animation: fade-up 0.6s var(--sec-ease) 0s forwards;
        }
        
        #securityCard.phase-3 .sec-flow {
            animation: fade-up 0.6s var(--sec-ease) 0.15s forwards;
        }
        
        #securityCard.phase-3 .sec-footer {
            animation: fade-up 0.6s var(--sec-ease) 0.3s forwards;
        }
        
        @keyframes fade-up {
            0% { opacity: 0; transform: translateY(20px); filter: blur(5px); }
            100% { opacity: 1; transform: translateY(0); filter: blur(0); }
        }
        
        /* Grid lines appear instantly */
        .sec-grid-lines {
            opacity: 0;
        }
        
        #securityCard.phase-1 .sec-grid-lines {
            animation: grid-flash 0.3s var(--impact-ease) forwards;
        }
        
        @keyframes grid-flash {
            0% { opacity: 0; }
            30% { opacity: 0.15; }
            100% { opacity: 1; }
        }
        
        /* Pulse animation for badges */
        .sec-pulse {
            opacity: 0;
        }

        #securityCard.phase-3 .sec-pulse {
            opacity: 1;
            animation: sec-pulse-glow 3s ease-in-out 0.5s infinite;
        }

        @keyframes sec-pulse-glow {
            0%, 100% { filter: drop-shadow(0 0 8px rgba(20,241,149,0.4)); }
            50% { filter: drop-shadow(0 0 20px rgba(20,241,149,0.8)); }
        }

        /* ===== SECOND WAVE - Lines from 13.3s to 17.5s ===== */
        /* Second wave lines - from blocks to sub-blocks */
        .arch-line-2 {
            transform: scaleX(0);
            opacity: 0;
        }
        
        /* Left lines grow from RIGHT to LEFT (from blocks at x=320 to sub-blocks at x=170) */
        .line2-left-1a, .line2-left-1b, .line2-left-1c,
        .line2-left-2a, .line2-left-2b, .line2-left-2c,
        .line2-left-3a, .line2-left-3b, .line2-left-3c {
            transform-origin: right center;
        }
        
        /* Right lines grow from LEFT to RIGHT (from blocks at x=1600 to sub-blocks at x=1750) */
        .line2-right-1a, .line2-right-1b, .line2-right-1c,
        .line2-right-2a, .line2-right-2b, .line2-right-2c,
        .line2-right-3a, .line2-right-3b {
            transform-origin: left center;
        }
        
        #layerArchitecture.active .arch-line-2 {
            animation: arch-line-2-grow 4.2s linear forwards;
            animation-delay: 3.9s; /* starts at 13.3s (9.4 + 3.9), ends at 17.5s */
        }
        
        @keyframes arch-line-2-grow {
            0% { 
                transform: scaleX(0);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            100% { 
                transform: scaleX(1);
                opacity: 1;
            }
        }

        /* Edge blocks - appear at 17.5s (9.4 + 3.9 + 4.2 = 17.5) */
        .arch-block-2 {
            opacity: 0;
            transform: scale(0.8);
            transform-origin: center;
        }
        
        #layerArchitecture.active .arch-block-2 {
            animation: arch-block-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        
        /* Left edge blocks (BROWSER sub) */
        #layerArchitecture.active .block2-left-1a { animation-delay: 8.1s; }
        #layerArchitecture.active .block2-left-1b { animation-delay: 8.15s; }
        #layerArchitecture.active .block2-left-1c { animation-delay: 8.2s; }
        /* Left edge blocks (STORAGE sub) */
        #layerArchitecture.active .block2-left-2a { animation-delay: 8.25s; }
        #layerArchitecture.active .block2-left-2b { animation-delay: 8.3s; }
        #layerArchitecture.active .block2-left-2c { animation-delay: 8.35s; }
        /* Left edge blocks (PWA sub) */
        #layerArchitecture.active .block2-left-3a { animation-delay: 8.4s; }
        #layerArchitecture.active .block2-left-3b { animation-delay: 8.45s; }
        #layerArchitecture.active .block2-left-3c { animation-delay: 8.5s; }
        /* Right edge blocks (WORKERS sub) */
        #layerArchitecture.active .block2-right-1a { animation-delay: 8.1s; }
        #layerArchitecture.active .block2-right-1b { animation-delay: 8.15s; }
        #layerArchitecture.active .block2-right-1c { animation-delay: 8.2s; }
        /* Right edge blocks (DURABLE sub) */
        #layerArchitecture.active .block2-right-2a { animation-delay: 8.25s; }
        #layerArchitecture.active .block2-right-2b { animation-delay: 8.3s; }
        #layerArchitecture.active .block2-right-2c { animation-delay: 8.35s; }
        /* Right edge blocks (CLOUD sub) */
        #layerArchitecture.active .block2-right-3a { animation-delay: 8.4s; }
        #layerArchitecture.active .block2-right-3b { animation-delay: 8.45s; }

        /* ===== LOGO ===== */
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: scale(0.95);
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }

        .logo-container.animate-in {
            opacity: 1;
            animation: logo-hit 1.2s cubic-bezier(0.18, 0.85, 0.3, 1) forwards;
        }

        .logo-container.animate-out {
            transform: scale(1);
            opacity: 0;
            transition: transform 1.4s cubic-bezier(0.4, 0, 0.2, 1),
                        opacity 1.4s ease-in-out;
        }

        .logo-container.animate-out .logo-svg {
            animation: none;
        }

        .logo-container.animate-in .logo-svg {
            animation: logo-breathe 6s ease-in-out 1.2s infinite;
        }

        .logo-svg {
            width: 70vw;
            max-width: 900px;
            height: auto;
            filter: drop-shadow(0 0 80px rgba(135, 82, 255, 0.3))
                    drop-shadow(0 0 150px rgba(255, 115, 175, 0.15));
        }

        @keyframes logo-pop {
            0% {
                opacity: 0;
                transform: scale(0.65) rotate(-1deg);
            }
            40% {
                opacity: 1;
                transform: scale(1.12) rotate(0.6deg);
            }
            65% {
                opacity: 1;
                transform: scale(0.97) rotate(-0.25deg);
            }
            85% {
                opacity: 1;
                transform: scale(1.02) rotate(0.15deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        @keyframes logo-breathe {
            0%, 100% { transform: scale(1); }
            40% { transform: scale(1.002); }
            70% { transform: scale(1.003); }
        }

        @keyframes logo-hit {
            0% {
                opacity: 0;
                transform: scale(1.12);
                filter: blur(8px) brightness(1.18);
            }

            10% {
                opacity: 1;
                transform: scale(1.04);
                filter: blur( 5px) brightness(1.12)
            }
            22% {
                opacity: 1;
                transform: scale(0.995);
                filter: blur(3px) brightness(1.08);
            }
            40% {
                opacity: 1;
                transform: scale(1.015);
                filter: blur(1px) brightness(1.02);
            }
            50% {
                opacity: 1;
                transform: scale(1.0);
                filter: blur(0.5px) brightness(1.01);
            }
            60% {
                opacity: 1;
                transform: scale(0.998);
                filter: blur(0.25px) brightness(1);
            }
            80% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0.125px) brightness(1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0px) brightness(1);
            }
        }

        /* ===== SLIDE CONTENT ===== */
        .slide-content {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== DEBUG INFO (remove in production) ===== */
        .debug-info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: rgba(255, 255, 255, 0.3);
            font-size: 12px;
            font-family: monospace;
            z-index: 1000;
        }

        /* ===== TIMELINE PROGRESS ===== */
        .timeline-progress {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, #8752ff, #ff73af);
            width: 0%;
            transition: width 0.1s linear;
            z-index: 1000;
        }

        /* ===== LOADING STATE ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #010103;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 1;
            transition: opacity 0.8s ease-out;
        }

        .loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 2px solid rgba(135, 82, 255, 0.2);
            border-top-color: #8752ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Start overlay for autoplay blocked browsers */
        .start-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            cursor: pointer;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            gap: 14px;
        }

        .start-overlay.show { opacity: 1; pointer-events: auto; }
        .start-overlay.fade-out { opacity: 0; pointer-events: none; }

        /* Кнопки точно как .cta-button на главной */
        .start-button,
        .end-btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0.95rem 1.9rem;
            min-width: 0;
            color: #fff;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 600;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            font-size: 0.78rem;
            text-align: center;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: transform 200ms ease, color 200ms ease;
        }
        .start-button::before,
        .end-btn::before {
            content: "";
            position: absolute;
            inset: 0;
            border: 1px solid rgba(255, 255, 255, 0.4);
            pointer-events: none;
            mix-blend-mode: screen;
        }
        .start-button.primary,
        .end-btn.primary {
            background: linear-gradient(120deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
        }
        .start-button.primary::before,
        .end-btn.primary::before {
            border-color: rgba(255, 255, 255, 0.4);
        }
        .end-btn:not(.primary)::before {
            border-color: rgba(255, 255, 255, 0.25);
        }
        .start-button:hover,
        .end-btn:hover {
            transform: translateY(-2px);
            color: #ffffff;
        }
        .start-button:active,
        .end-btn:active {
            transform: translateY(0);
        }
        /* Стартовая кнопка с иконкой play */
        .start-hint {
            max-width: 360px;
            color: rgba(255, 255, 255, 0.6);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 12px;
            letter-spacing: 0.08em;
            line-height: 1.6;
            text-align: center;
        }

        /* ===== CURSOR HIDE ===== */
        .presentation.hide-cursor {
            cursor: none;
        }

        .presentation.hide-cursor * {
            cursor: none;
        }

        /* ===== TOKEN SCANNER SLIDE ===== */
        .token-scanner-stage {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: min(2vh, 30px) min(2vw, 30px);
        }

        .token-scanner-frame {
            width: min(96vw, 1800px);
            max-width: 1800px;
            aspect-ratio: 16 / 9;
            filter: drop-shadow(0 18px 48px rgba(0, 0, 0, 0.28));
        }

        #tokenScannerCard {
            width: 100%;
            height: 100%;
        }

        /* All elements hidden initially */
        .ts-title, .ts-grid-lines, .ts-center, .ts-label,
        .ts-arrows, .ts-dots,
        .ts-block, .ts-subblock, .ts-badge, .ts-footer {
            opacity: 0;
        }

        /* Lines use stroke-dashoffset for animation */
        .ts-line {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            opacity: 0;
        }
        
        .ts-line-2 {
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            opacity: 0;
        }

        /* PHASE 1: Center block impact */
        #tokenScannerCard.ts-phase-1 .ts-center {
            animation: ts-center-impact 0.4s var(--impact-ease) forwards;
        }

        #tokenScannerCard.ts-phase-1 .ts-title {
            animation: ts-fade-in 0.5s var(--sec-ease) 0.1s forwards;
        }

        #tokenScannerCard.ts-phase-1 .ts-grid-lines {
            animation: ts-fade-in 0.3s var(--sec-ease) forwards;
        }

        @keyframes ts-center-impact {
            0% { 
                opacity: 0; 
                filter: blur(20px) brightness(2.5) drop-shadow(0 0 100px rgba(135,82,255,1));
            }
            40% { 
            opacity: 1;
                filter: blur(5px) brightness(1.5) drop-shadow(0 0 60px rgba(135,82,255,0.8));
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1) drop-shadow(0 0 25px rgba(135,82,255,0.4));
            }
        }

        @keyframes ts-fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* PHASE 2: Main lines crawl out from center - staggered for dramatic effect */
        #tokenScannerCard.ts-phase-2 .ts-line-l2 {
            animation: ts-line-draw-slow 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        #tokenScannerCard.ts-phase-2 .ts-line-r2 {
            animation: ts-line-draw-slow 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s forwards;
        }
        
        #tokenScannerCard.ts-phase-2 .ts-line-l1 {
            animation: ts-line-draw-slow 1.0s cubic-bezier(0.4, 0, 0.2, 1) 0.2s forwards;
        }
        #tokenScannerCard.ts-phase-2 .ts-line-r1 {
            animation: ts-line-draw-slow 1.0s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
        }
        
        #tokenScannerCard.ts-phase-2 .ts-line-l3 {
            animation: ts-line-draw-slow 1.0s cubic-bezier(0.4, 0, 0.2, 1) 0.4s forwards;
        }
        #tokenScannerCard.ts-phase-2 .ts-line-r3 {
            animation: ts-line-draw-slow 1.0s cubic-bezier(0.4, 0, 0.2, 1) 0.5s forwards;
        }

        #tokenScannerCard.ts-phase-2 .ts-arrows {
            animation: ts-fade-in 0.3s var(--sec-ease) 1.0s forwards;
        }

        #tokenScannerCard.ts-phase-2 .ts-dots {
            animation: ts-fade-in 0.3s var(--sec-ease) 0.6s forwards;
        }

        @keyframes ts-line-draw-slow {
            0% { 
                stroke-dashoffset: 1000;
            opacity: 0;
                filter: drop-shadow(0 0 0 transparent);
            }
            5% {
                opacity: 1;
                filter: drop-shadow(0 0 8px rgba(135,82,255,0.6));
            }
            50% {
                filter: drop-shadow(0 0 12px rgba(135,82,255,0.8));
            }
            100% { 
                stroke-dashoffset: 0;
                opacity: 1;
                filter: drop-shadow(0 0 4px rgba(135,82,255,0.3));
            }
        }

        /* PHASE 3: First level blocks appear */
        #tokenScannerCard.ts-phase-3 .ts-block-l1 {
            animation: ts-block-pop-red 0.5s var(--impact-ease) 0s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-block-l2 {
            animation: ts-block-pop-green 0.5s var(--impact-ease) 0.08s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-block-l3 {
            animation: ts-block-pop-yellow 0.5s var(--impact-ease) 0.16s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-block-r1 {
            animation: ts-block-pop-purple 0.5s var(--impact-ease) 0s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-block-r2 {
            animation: ts-block-pop-cyan 0.5s var(--impact-ease) 0.08s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-block-r3 {
            animation: ts-block-pop-pink 0.5s var(--impact-ease) 0.16s forwards;
        }

        #tokenScannerCard.ts-phase-3 .ts-label-left {
            animation: ts-fade-in 0.4s var(--sec-ease) 0.3s forwards;
        }
        #tokenScannerCard.ts-phase-3 .ts-label-right {
            animation: ts-fade-in 0.4s var(--sec-ease) 0.3s forwards;
        }

        @keyframes ts-block-pop-red {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(255,82,82,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(255,82,82,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(255,82,82,0.3)); }
        }

        @keyframes ts-block-pop-green {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(20,241,149,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(20,241,149,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(20,241,149,0.3)); }
        }

        @keyframes ts-block-pop-yellow {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(255,184,0,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(255,184,0,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(255,184,0,0.3)); }
        }

        @keyframes ts-block-pop-purple {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(177,123,255,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(177,123,255,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(177,123,255,0.3)); }
        }

        @keyframes ts-block-pop-cyan {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(0,217,255,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(0,217,255,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(0,217,255,0.3)); }
        }

        @keyframes ts-block-pop-pink {
            0% { opacity: 0; filter: blur(15px) brightness(2) drop-shadow(0 0 50px rgba(255,115,175,1)); }
            50% { opacity: 1; filter: blur(3px) brightness(1.4) drop-shadow(0 0 30px rgba(255,115,175,0.7)); }
            100% { opacity: 1; filter: blur(0) brightness(1) drop-shadow(0 0 10px rgba(255,115,175,0.3)); }
        }

        /* PHASE 4: Secondary lines crawl */
        #tokenScannerCard.ts-phase-4 .ts-line-2 {
            animation: ts-line-draw-2 0.6s ease-out forwards;
        }

        /* Stagger delays for secondary lines */
        #tokenScannerCard.ts-phase-4 .ts-line-2-l1a { animation-delay: 0s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-l1b { animation-delay: 0.05s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-l1c { animation-delay: 0.1s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-l3a { animation-delay: 0.15s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-l3b { animation-delay: 0.2s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-l3c { animation-delay: 0.25s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r1a { animation-delay: 0s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r1b { animation-delay: 0.05s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r1c { animation-delay: 0.1s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r3a { animation-delay: 0.15s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r3b { animation-delay: 0.2s; }
        #tokenScannerCard.ts-phase-4 .ts-line-2-r3c { animation-delay: 0.25s; }

        @keyframes ts-line-draw-2 {
            0% { 
                stroke-dashoffset: 500;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% { 
                stroke-dashoffset: 0;
                opacity: 1;
            }
        }

        /* PHASE 5: Sub-blocks and badges appear */
        #tokenScannerCard.ts-phase-5 .ts-subblock {
            animation: ts-subblock-pop 0.4s var(--sec-ease) forwards;
        }

        /* Stagger sub-block delays */
        #tokenScannerCard.ts-phase-5 .ts-sub-l1a { animation-delay: 0s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-l1b { animation-delay: 0.05s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-l1c { animation-delay: 0.1s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-l3a { animation-delay: 0.15s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-l3b { animation-delay: 0.2s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-l3c { animation-delay: 0.25s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r1a { animation-delay: 0s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r1b { animation-delay: 0.05s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r1c { animation-delay: 0.1s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r3a { animation-delay: 0.15s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r3b { animation-delay: 0.2s; }
        #tokenScannerCard.ts-phase-5 .ts-sub-r3c { animation-delay: 0.25s; }

        @keyframes ts-subblock-pop {
            0% { opacity: 0; filter: blur(8px); }
            100% { opacity: 1; filter: blur(0); }
        }

        /* Badges cascade */
        #tokenScannerCard.ts-phase-5 .ts-badge {
            animation: ts-badge-pop 0.5s var(--sec-ease) forwards;
        }

        #tokenScannerCard.ts-phase-5 .ts-badge-1 { animation-delay: 0.3s; }
        #tokenScannerCard.ts-phase-5 .ts-badge-2 { animation-delay: 0.4s; }
        #tokenScannerCard.ts-phase-5 .ts-badge-3 { animation-delay: 0.5s; }
        #tokenScannerCard.ts-phase-5 .ts-badge-4 { animation-delay: 0.6s; }

        @keyframes ts-badge-pop {
            0% { opacity: 0; filter: blur(10px) brightness(1.5); }
            60% { opacity: 1; filter: blur(2px) brightness(1.2); }
            100% { opacity: 1; filter: blur(0) brightness(1); }
        }

        /* Footer */
        #tokenScannerCard.ts-phase-5 .ts-footer {
            animation: ts-fade-in 0.6s var(--sec-ease) 0.7s forwards;
        }

        /* Security slide exit animation */
        #layerPresentation.sec-exit-swipe {
            animation: sec-swipe-out 0.25s cubic-bezier(0.7, 0, 1, 0.5) forwards;
        }

        @keyframes sec-swipe-out {
            0% { 
                transform: translateX(0) scale(1); 
                filter: blur(0); 
                opacity: 1; 
            }
            100% { 
                transform: translateX(-120vw) scale(0.85); 
                filter: blur(25px); 
                opacity: 0; 
            }
        }

        /* ========================================
           CTA SLIDE STYLES
           ======================================== */
        
        .cta-stage {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
        }

        .cta-svg {
            width: 100%;
            height: 100%;
            max-width: 100vw;
            max-height: 100vh;
        }

        /* Initial hidden states for CTA elements */
        .cta-logo-group,
        .cta-headline,
        .cta-qr-group,
        .cta-subtext,
        .cta-url {
            opacity: 0;
        }

        /* QR frame pulse */
        .cta-qr-frame {
            transition: stroke 0.3s ease;
        }
        .cta-qr-frame.cqr-pulse-strong {
            animation: cta-qr-pulse-strong 0.9s ease-out forwards;
        }
        .cta-qr-frame.cqr-pulse-weak {
            animation: cta-qr-pulse-weak 0.9s ease-out forwards;
        }
        @keyframes cta-qr-pulse-strong {
            0% {
                stroke: rgba(255, 255, 255, 0.2);
                filter: drop-shadow(0 0 0 rgba(239,68,68,0));
                opacity: 1;
            }
            25% {
                stroke: rgba(239,68,68,0.9);
                filter: drop-shadow(0 0 38px rgba(239,68,68,0.9)) drop-shadow(0 0 92px rgba(239,68,68,0.7));
                opacity: 1;
            }
            60% {
                stroke: rgba(239,68,68,0.65);
                filter: drop-shadow(0 0 26px rgba(239,68,68,0.5)) drop-shadow(0 0 72px rgba(239,68,68,0.38));
                opacity: 0.95;
            }
            100% {
                stroke: rgba(135,82,255,0.25);
                filter: drop-shadow(0 0 0 rgba(239,68,68,0));
                opacity: 1;
            }
        }
        @keyframes cta-qr-pulse-weak {
            0% {
                stroke: rgba(255, 255, 255, 0.15);
                filter: drop-shadow(0 0 0 rgba(239,68,68,0));
                opacity: 1;
            }
            25% {
                stroke: rgba(239,68,68,0.6);
                filter: drop-shadow(0 0 54px rgba(239,68,68,0.6)) drop-shadow(0 0 130px rgba(239,68,68,0.45));
                opacity: 1;
            }
            60% {
                stroke: rgba(239,68,68,0.4);
                filter: drop-shadow(0 0 34px rgba(239,68,68,0.35)) drop-shadow(0 0 96px rgba(239,68,68,0.28));
                opacity: 0.9;
            }
            100% {
                stroke: rgba(135,82,255,0.25);
                filter: drop-shadow(0 0 0 rgba(239,68,68,0));
                opacity: 1;
            }
        }

        /* Security slide: arp flash */
        .sec-card { position: relative; transition: filter 0.16s ease, box-shadow 0.16s ease; }
        .sec-card rect { transition: fill 0.16s ease, stroke 0.16s ease, filter 0.16s ease; }
        .sec-card text,
        .sec-card path,
        .sec-card circle,
        .sec-card line { transition: filter 0.16s ease, fill 0.16s ease, stroke 0.16s ease; }

        /* Arp glow в красном тоне (как центр SOLINK в архитектуре, но приглушённый) */
        .sec-card.arp-glow {
            /* Сильнее разлёт, мягче по яркости */
            filter:
                drop-shadow(0 0 58px rgba(239,68,68,0.36))
                drop-shadow(0 0 110px rgba(239,68,68,0.26));
            box-shadow:
                0 0 54px rgba(239,68,68,0.36),
                0 0 126px rgba(239,68,68,0.28);
        }
        .sec-card.arp-glow rect {
            fill: rgba(239,68,68,0.08) !important;
            stroke: rgba(239,68,68,0.42) !important;
            filter: brightness(1.12);
        }
        .sec-card.arp-glow text,
        .sec-card.arp-glow path,
        .sec-card.arp-glow circle,
        .sec-card.arp-glow line {
            filter: brightness(1.08) saturate(1.05);
        }

        /* CTA Phase 1: Impact flash and logo */
        #layerCTA.cta-phase-1 .cta-logo-group {
            animation: cta-logo-slam 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        @keyframes cta-logo-slam {
            0% { 
                opacity: 0; 
                filter: blur(20px) brightness(3);
            }
            40% { 
                opacity: 1; 
                filter: blur(0) brightness(1.5);
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1);
            }
        }

        /* CTA Phase 2: Headline fade in */
        #layerCTA.cta-phase-2 .cta-headline {
            animation: cta-text-fade 0.8s ease-out forwards;
        }

        /* CTA Phase 3: QR code appears */
        #layerCTA.cta-phase-3 .cta-qr-group {
            animation: cta-qr-reveal 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes cta-qr-reveal {
            0% { 
                opacity: 0; 
                filter: blur(10px) brightness(1.5);
            }
            100% { 
                opacity: 1; 
                filter: blur(0) brightness(1);
            }
        }

        /* CTA Phase 4: Decorative lines draw animation and subtext */
        
        /* Flowing curves from left */
        .cta-line-left-1, .cta-line-left-2,
        .cta-line-right-1, .cta-line-right-2,
        .cta-line-diag-1, .cta-line-diag-2,
        .cta-line-horiz-1, .cta-line-horiz-2 {
            stroke-dasharray: 2500;
            stroke-dashoffset: 2500;
        }

        .cta-circle-1 {
            stroke-dasharray: 2600;
            stroke-dashoffset: 2600;
        }
        .cta-circle-2 {
            stroke-dasharray: 3200;
            stroke-dashoffset: 3200;
        }

        .cta-grid-v1, .cta-grid-v2 {
            stroke-dasharray: 1100;
            stroke-dashoffset: 1100;
        }
        .cta-grid-h1, .cta-grid-h2 {
            stroke-dasharray: 1920;
            stroke-dashoffset: 1920;
        }

        /* Animate when phase-4 is active */
        #layerCTA.cta-phase-4 .cta-line-left-1 {
            animation: cta-line-draw 3s ease-out forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-left-2 {
            animation: cta-line-draw 3.5s ease-out 0.2s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-right-1 {
            animation: cta-line-draw 3s ease-out 0.1s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-right-2 {
            animation: cta-line-draw 3.5s ease-out 0.3s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-diag-1 {
            animation: cta-line-draw 2.5s ease-out 0.4s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-diag-2 {
            animation: cta-line-draw 2.5s ease-out 0.5s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-horiz-1 {
            animation: cta-line-draw 4s ease-out 0.6s forwards;
        }
        #layerCTA.cta-phase-4 .cta-line-horiz-2 {
            animation: cta-line-draw 4s ease-out 0.8s forwards;
        }
        #layerCTA.cta-phase-4 .cta-circle-1 {
            animation: cta-circle-draw 5s ease-out 0.5s forwards;
        }
        #layerCTA.cta-phase-4 .cta-circle-2 {
            animation: cta-circle-draw 6s ease-out 0.7s forwards;
        }
        #layerCTA.cta-phase-4 .cta-grid-v1,
        #layerCTA.cta-phase-4 .cta-grid-v2 {
            animation: cta-grid-draw 2s ease-out 1s forwards;
        }
        #layerCTA.cta-phase-4 .cta-grid-h1,
        #layerCTA.cta-phase-4 .cta-grid-h2 {
            animation: cta-grid-draw-h 2.5s ease-out 1.2s forwards;
        }

        @keyframes cta-line-draw {
            from { stroke-dashoffset: 2500; }
            to { stroke-dashoffset: 0; }
        }

        @keyframes cta-circle-draw {
            from { stroke-dashoffset: 3200; }
            to { stroke-dashoffset: 0; }
        }

        @keyframes cta-grid-draw {
            from { stroke-dashoffset: 1100; }
            to { stroke-dashoffset: 0; }
        }

        @keyframes cta-grid-draw-h {
            from { stroke-dashoffset: 1920; }
            to { stroke-dashoffset: 0; }
        }

        #layerCTA.cta-phase-4 .cta-subtext {
            animation: cta-text-fade 1s ease-out 0.3s forwards;
        }

        #layerCTA.cta-phase-4 .cta-url {
            animation: cta-text-fade 1s ease-out 0.6s forwards;
        }

        @keyframes cta-text-fade {
            0% { opacity: 0; filter: blur(5px); }
            100% { opacity: 1; filter: blur(0); }
        }

        /* Final fade out overlay */
        .final-fade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #010103;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
            transition: opacity 2s ease-in;
        }

        .final-fade-overlay.fade-active {
            opacity: 1;
        }

        /* End overlay with buttons - тёмный фон */
        .end-overlay {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 20px;
            background: #000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
            z-index: 1100;
        }
        .end-message {
            color: rgba(255,255,255,0.8);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 20px;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            text-align: center;
            line-height: 1.6;
        }
        .end-actions {
            display: flex;
            gap: 16px;
        }
        .end-btn {
            min-width: 170px;
        }
        .end-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }
        /* end-btn uses shared SOLINK styles (see start section) */
        /* Token Scanner exit animation */
        #layerTokenScanner.ts-exit-swipe {
            animation: ts-swipe-out 0.3s cubic-bezier(0.7, 0, 1, 0.5) forwards;
        }

        @keyframes ts-swipe-out {
            0% { 
                transform: translateX(0) scale(1); 
                filter: blur(0); 
                opacity: 1; 
            }
            100% { 
                transform: translateX(-120vw) scale(0.85); 
                filter: blur(25px); 
                opacity: 0; 
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Main Presentation -->
    <div class="presentation" id="presentation">
        <!-- Background Layers -->
        <div class="bg-layer bg-base"></div>
        <div class="bg-layer bg-glow-purple" id="glowPurple"></div>
        <div class="bg-layer bg-glow-pink" id="glowPink"></div>
        <div class="bg-layer bg-glow-center"></div>
        <div class="bg-layer bg-vignette-left"></div>
        <div class="bg-layer bg-vignette-right"></div>
        <div class="bg-layer bg-vignette-bottom"></div>
        <div class="bg-layer bg-vignette-top"></div>
        <div class="grain-layer"></div>

        <!-- Content Layer: Logo -->
        <div class="content-layer" id="layerLogo">
            <div class="logo-container" id="logoContainer">
                <!-- SOLink Logo SVG - adapted from solink-header-3000x1000.svg -->
                <svg class="logo-svg" viewBox="0 0 1200 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Central frame: Crossing lines -->
                    <!-- Left vertical line -->
                    <line x1="300" y1="60" x2="300" y2="380" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                    <!-- Right vertical line -->
                    <line x1="900" y1="60" x2="900" y2="380" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                    <!-- Top horizontal line -->
                    <line x1="240" y1="110" x2="960" y2="110" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                    <!-- Bottom horizontal line -->
                    <line x1="240" y1="330" x2="960" y2="330" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>

                    <!-- Corner accents -->
                    <g stroke="rgba(255,255,255,0.25)" stroke-width="1">
                        <!-- Top-left corner -->
                        <line x1="300" y1="110" x2="300" y2="95"/>
                        <line x1="300" y1="110" x2="285" y2="110"/>
                        <!-- Top-right corner -->
                        <line x1="900" y1="110" x2="900" y2="95"/>
                        <line x1="900" y1="110" x2="915" y2="110"/>
                        <!-- Bottom-left corner -->
                        <line x1="300" y1="330" x2="300" y2="345"/>
                        <line x1="300" y1="330" x2="285" y2="330"/>
                        <!-- Bottom-right corner -->
                        <line x1="900" y1="330" x2="900" y2="345"/>
                        <line x1="900" y1="330" x2="915" y2="330"/>
                    </g>

                    <!-- Left side decorative nodes -->
                    <g>
                        <line x1="0" y1="220" x2="270" y2="220" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                        <line x1="60" y1="160" x2="240" y2="185" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                        <line x1="60" y1="280" x2="240" y2="255" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                        <circle cx="60" cy="160" r="3" fill="rgba(255,255,255,0.12)"/>
                        <circle cx="60" cy="280" r="3" fill="rgba(255,255,255,0.12)"/>
                        <circle cx="120" cy="220" r="2" fill="rgba(255,255,255,0.08)"/>
                        <circle cx="180" cy="175" r="2.5" fill="rgba(255,255,255,0.1)"/>
                        <circle cx="180" cy="265" r="2.5" fill="rgba(255,255,255,0.1)"/>
                    </g>

                    <!-- Right side decorative nodes (mirrored) -->
                    <g>
                        <line x1="930" y1="220" x2="1200" y2="220" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                        <line x1="960" y1="185" x2="1140" y2="160" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                        <line x1="960" y1="255" x2="1140" y2="280" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                        <circle cx="1140" cy="160" r="3" fill="rgba(255,255,255,0.12)"/>
                        <circle cx="1140" cy="280" r="3" fill="rgba(255,255,255,0.12)"/>
                        <circle cx="1080" cy="220" r="2" fill="rgba(255,255,255,0.08)"/>
                        <circle cx="1020" cy="175" r="2.5" fill="rgba(255,255,255,0.1)"/>
                        <circle cx="1020" cy="265" r="2.5" fill="rgba(255,255,255,0.1)"/>
                    </g>

                    <!-- SOLINK text centered -->
                    <text 
                        x="600" 
                        y="200" 
                        text-anchor="middle" 
                        dominant-baseline="middle"
                        font-family="'Space Grotesk', sans-serif" 
                        font-weight="500" 
                        font-size="90"
                        letter-spacing="0.12em"
                        fill="#FFFFFF">SOLINK</text>

                    <!-- Tagline below SOLINK -->
                    <text 
                        x="600" 
                        y="268" 
                        text-anchor="middle" 
                        dominant-baseline="middle"
                        font-family="'Space Grotesk', sans-serif" 
                        font-weight="300" 
                        font-size="18"
                        letter-spacing="0.35em"
                        fill="rgba(255,255,255,0.55)">WEB3 ENCRYPTED MESSENGER</text>

                    <!-- "Built on Solana" at bottom -->
                    <text 
                        x="600" 
                        y="460" 
                        text-anchor="middle" 
                        dominant-baseline="middle"
                        font-family="'Space Grotesk', sans-serif" 
                        font-weight="400" 
                        font-size="14"
                        letter-spacing="0.2em"
                        fill="rgba(255,255,255,0.25)">BUILT ON SOLANA</text>
                </svg>
            </div>
        </div>

        <!-- Content Layer: Architecture -->
        <div class="content-layer" id="layerArchitecture">
            <div class="slide-content">
                <svg class="architecture-svg" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Title -->
                    <text class="arch-title" x="960" y="50" text-anchor="middle" fill="rgba(255,255,255,0.8)" 
                          font-family="'Space Grotesk', sans-serif" font-size="24" letter-spacing="0.3em">
                        SYSTEM ARCHITECTURE
                    </text>
                    
                    <!-- Section Labels -->
                    <text x="120" y="100" fill="#FF5757" font-family="'Space Grotesk', sans-serif" font-size="14" font-weight="600" letter-spacing="0.2em">FRONTEND</text>
                    <text x="1720" y="100" fill="#4ADE80" font-family="'Space Grotesk', sans-serif" font-size="14" font-weight="600" letter-spacing="0.2em">BACKEND</text>

                    <!-- Lines from center - animated -->
                    <g class="arch-lines">
                        <!-- Left lines to BROWSER, STORAGE, PWA (3 lines fan) -->
                        <path class="arch-line line-left-top" d="M820 480 Q600 400 500 280" stroke="rgba(135,82,255,0.3)" stroke-width="2" fill="none"/>
                        <path class="arch-line line-left-mid" d="M820 540 H500" stroke="rgba(135,82,255,0.3)" stroke-width="2" fill="none"/>
                        <path class="arch-line line-left-bot" d="M820 600 Q600 680 500 780" stroke="rgba(135,82,255,0.3)" stroke-width="2" fill="none"/>
                        
                        <!-- Right lines to WORKERS, DURABLE, CLOUD (3 lines fan - symmetric to left) -->
                        <path class="arch-line line-right-top" d="M1100 480 Q1320 400 1420 280" stroke="rgba(74,222,128,0.3)" stroke-width="2" fill="none"/>
                        <path class="arch-line line-right-mid" d="M1100 540 H1420" stroke="rgba(74,222,128,0.3)" stroke-width="2" fill="none"/>
                        <path class="arch-line line-right-bot" d="M1100 600 Q1320 680 1420 780" stroke="rgba(74,222,128,0.3)" stroke-width="2" fill="none"/>
                        
                        <!-- Top line to SOLANA -->
                        <path class="arch-line line-top" d="M960 420 V210" stroke="rgba(239,68,68,0.35)" stroke-width="2" fill="none"/>
                        
                        <!-- Bottom line to SECURITY -->
                        <path class="arch-line line-bottom" d="M960 680 V880" stroke="rgba(239,68,68,0.35)" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- Labels on lines -->
                    <text class="arch-line-label" x="680" y="465" fill="rgba(255,255,255,0.4)" font-family="'Space Grotesk', sans-serif" font-size="12">encrypted</text>
                    <text class="arch-line-label" x="1180" y="465" fill="rgba(255,255,255,0.4)" font-family="'Space Grotesk', sans-serif" font-size="12">ciphertext</text>

                    <!-- Center block - SOLINK -->
                    <g class="arch-center-block">
                        <rect x="820" y="420" width="280" height="260" rx="16" fill="rgba(135,82,255,0.12)" stroke="rgba(135,82,255,0.4)" stroke-width="2"/>
                        <text x="960" y="490" text-anchor="middle" fill="white" font-family="'Space Grotesk', sans-serif" font-size="42" font-weight="500" letter-spacing="0.08em">SOLINK</text>
                        <text x="960" y="540" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="16" letter-spacing="0.1em">Web3 Messenger</text>
                        <line x1="870" y1="575" x2="1050" y2="575" stroke="rgba(255,255,255,0.15)" stroke-width="1"/>
                        <text x="960" y="610" text-anchor="middle" fill="rgba(255,255,255,0.45)" font-family="'Space Grotesk', sans-serif" font-size="13">Encrypted Communication</text>
                        <text x="960" y="640" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-family="'Space Grotesk', sans-serif" font-size="12">On Solana</text>
                    </g>

                    <!-- ===== LEFT SIDE BLOCKS (FRONTEND) ===== -->
                    <g class="arch-side-blocks">
                        
                        <!-- BROWSER block -->
                        <g class="arch-block block-left-top">
                            <rect x="320" y="210" width="180" height="80" rx="12" fill="rgba(135,82,255,0.12)" stroke="rgba(135,82,255,0.5)" stroke-width="1.5"/>
                            <text x="410" y="245" text-anchor="middle" fill="#B17BFF" font-family="'Space Grotesk', sans-serif" font-size="16" font-weight="600">BROWSER</text>
                            <text x="410" y="268" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Client Application</text>
                        </g>
                        
                        <!-- STORAGE block -->
                        <g class="arch-block block-left-mid">
                            <rect x="320" y="500" width="180" height="80" rx="12" fill="rgba(135,82,255,0.12)" stroke="rgba(135,82,255,0.5)" stroke-width="1.5"/>
                            <text x="410" y="535" text-anchor="middle" fill="#6EE7B7" font-family="'Space Grotesk', sans-serif" font-size="16" font-weight="600">STORAGE</text>
                            <text x="410" y="558" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Local Data</text>
                        </g>
                        
                        <!-- PWA block -->
                        <g class="arch-block block-left-bot">
                            <rect x="320" y="740" width="180" height="80" rx="12" fill="rgba(135,82,255,0.12)" stroke="rgba(135,82,255,0.5)" stroke-width="1.5"/>
                            <text x="410" y="775" text-anchor="middle" fill="#FBBF24" font-family="'Space Grotesk', sans-serif" font-size="16" font-weight="600">PWA</text>
                            <text x="410" y="798" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Progressive Web App</text>
                        </g>
                        
                        <!-- ===== TOP BLOCK ===== -->
                        
                        <!-- SOLANA block (TOP CENTER) - with Phantom & Web3.js inside -->
                        <g class="arch-block block-top">
                            <rect x="820" y="100" width="280" height="110" rx="12" fill="rgba(239,68,68,0.1)" stroke="rgba(239,68,68,0.55)" stroke-width="1.5"/>
                            <text x="960" y="135" text-anchor="middle" fill="#F87171" font-family="'Space Grotesk', sans-serif" font-size="20" font-weight="600">SOLANA</text>
                            <text x="960" y="158" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Blockchain Layer</text>
                            <!-- Sub-labels inside -->
                            <text x="890" y="185" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-family="'Space Grotesk', sans-serif" font-size="10">Phantom</text>
                            <text x="1030" y="185" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-family="'Space Grotesk', sans-serif" font-size="10">Web3.js</text>
                        </g>
                        
                        <!-- ===== RIGHT SIDE BLOCKS (BACKEND) - symmetric to left ===== -->
                        
                        <!-- WORKERS block (top right) -->
                        <g class="arch-block block-right-top">
                            <rect x="1420" y="210" width="180" height="80" rx="12" fill="rgba(74,222,128,0.1)" stroke="rgba(74,222,128,0.5)" stroke-width="1.5"/>
                            <text x="1510" y="245" text-anchor="middle" fill="#60A5FA" font-family="'Space Grotesk', sans-serif" font-size="16" font-weight="600">WORKERS</text>
                            <text x="1510" y="268" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Cloudflare Edge</text>
                        </g>
                        
                        <!-- DURABLE OBJECTS block (mid right) -->
                        <g class="arch-block block-right-mid">
                            <rect x="1420" y="500" width="180" height="80" rx="12" fill="rgba(74,222,128,0.1)" stroke="rgba(74,222,128,0.5)" stroke-width="1.5"/>
                            <text x="1510" y="530" text-anchor="middle" fill="#F472B6" font-family="'Space Grotesk', sans-serif" font-size="14" font-weight="600">DURABLE OBJECTS</text>
                            <text x="1510" y="555" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Stateful Edge</text>
                        </g>
                        
                        <!-- CLOUD STORAGE block (bottom right) -->
                        <g class="arch-block block-right-bot">
                            <rect x="1420" y="740" width="180" height="80" rx="12" fill="rgba(74,222,128,0.1)" stroke="rgba(74,222,128,0.5)" stroke-width="1.5"/>
                            <text x="1510" y="775" text-anchor="middle" fill="#A78BFA" font-family="'Space Grotesk', sans-serif" font-size="14" font-weight="600">CLOUD STORAGE</text>
                            <text x="1510" y="798" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-family="'Space Grotesk', sans-serif" font-size="11">Persistent Data</text>
                        </g>
                        
                        <!-- SECURITY LAYER block (bottom) -->
                        <g class="arch-block block-bottom">
                            <rect x="700" y="895" width="520" height="90" rx="12" fill="rgba(239,68,68,0.1)" stroke="rgba(239,68,68,0.45)" stroke-width="1.5"/>
                            <text x="960" y="930" text-anchor="middle" fill="#F87171" font-family="'Space Grotesk', sans-serif" font-size="18" font-weight="600">SECURITY LAYER</text>
                            <text x="960" y="960" text-anchor="middle" fill="rgba(255,255,255,0.45)" font-family="'Space Grotesk', sans-serif" font-size="11">
                                <tspan>X25519 Key Exchange</tspan>
                                <tspan dx="30">XSalsa20-Poly1305</tspan>
                                <tspan dx="30">DTLS-SRTP</tspan>
                            </text>
                        </g>
                    </g>

                    <!-- ===== SECOND WAVE: Small blocks ===== -->
                    <g class="arch-lines-2">
                        <!-- Lines from BROWSER -->
                        <path class="arch-line-2 line2-left-1a" d="M320 225 L170 180" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-1b" d="M320 250 H170" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-1c" d="M320 275 L170 320" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        
                        <!-- Lines from STORAGE -->
                        <path class="arch-line-2 line2-left-2a" d="M320 520 L170 470" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-2b" d="M320 540 H170" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-2c" d="M320 560 L170 610" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        
                        <!-- Lines from PWA -->
                        <path class="arch-line-2 line2-left-3a" d="M320 760 L170 710" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-3b" d="M320 780 H170" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-left-3c" d="M320 800 L170 850" stroke="rgba(135,82,255,0.25)" stroke-width="1" fill="none"/>
                        
                        
                        <!-- Lines from WORKERS (right) -->
                        <path class="arch-line-2 line2-right-1a" d="M1600 225 L1750 180" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-right-1b" d="M1600 250 H1750" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-right-1c" d="M1600 275 L1750 320" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        
                        <!-- Lines from DURABLE OBJECTS (right) -->
                        <path class="arch-line-2 line2-right-2a" d="M1600 520 L1750 470" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-right-2b" d="M1600 540 H1750" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-right-2c" d="M1600 560 L1750 610" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        
                        <!-- Lines from CLOUD STORAGE (right) -->
                        <path class="arch-line-2 line2-right-3a" d="M1600 760 L1750 710" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                        <path class="arch-line-2 line2-right-3b" d="M1600 780 H1750" stroke="rgba(74,222,128,0.25)" stroke-width="1" fill="none"/>
                    </g>

                    <!-- Edge blocks - third wave -->
                    <g class="arch-edge-blocks">
                        <!-- BROWSER sub-blocks (left) -->
                        <g class="arch-block-2 block2-left-1a">
                            <rect x="60" y="155" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="180" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">Vanilla JS</text>
                        </g>
                        <g class="arch-block-2 block2-left-1b">
                            <rect x="60" y="230" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="255" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">TweetNaCl</text>
                        </g>
                        <g class="arch-block-2 block2-left-1c">
                            <rect x="60" y="300" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="325" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">WebRTC</text>
                        </g>
                        
                        <!-- STORAGE sub-blocks (left) -->
                        <g class="arch-block-2 block2-left-2a">
                            <rect x="60" y="445" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="470" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">IndexedDB</text>
                        </g>
                        <g class="arch-block-2 block2-left-2b">
                            <rect x="60" y="520" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="545" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="10">LocalStorage</text>
                        </g>
                        <g class="arch-block-2 block2-left-2c">
                            <rect x="60" y="590" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="615" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">Cache API</text>
                        </g>
                        
                        <!-- PWA sub-blocks (left) -->
                        <g class="arch-block-2 block2-left-3a">
                            <rect x="60" y="685" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="710" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="10">Service Worker</text>
                        </g>
                        <g class="arch-block-2 block2-left-3b">
                            <rect x="60" y="760" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="785" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">Push API</text>
                        </g>
                        <g class="arch-block-2 block2-left-3c">
                            <rect x="60" y="830" width="110" height="40" rx="8" fill="rgba(135,82,255,0.06)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            <text x="115" y="855" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">Manifest</text>
                        </g>
                        
                        
                        <!-- WORKERS sub-blocks (right - mirror of BROWSER) -->
                        <g class="arch-block-2 block2-right-1a">
                            <rect x="1750" y="155" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="180" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">API Routes</text>
                        </g>
                        <g class="arch-block-2 block2-right-1b">
                            <rect x="1750" y="230" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="255" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="10">Auth Handler</text>
                        </g>
                        <g class="arch-block-2 block2-right-1c">
                            <rect x="1750" y="300" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="325" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">RPC Proxy</text>
                        </g>
                        
                        <!-- DURABLE OBJECTS sub-blocks (right - mirror of STORAGE) -->
                        <g class="arch-block-2 block2-right-2a">
                            <rect x="1750" y="445" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="470" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="10">InboxDurable</text>
                        </g>
                        <g class="arch-block-2 block2-right-2b">
                            <rect x="1750" y="520" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="545" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="10">CallSignaling</text>
                        </g>
                        <g class="arch-block-2 block2-right-2c">
                            <rect x="1750" y="590" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="615" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">WebSocket</text>
                        </g>
                        
                        <!-- CLOUD STORAGE sub-blocks (right - mirror of PWA) -->
                        <g class="arch-block-2 block2-right-3a">
                            <rect x="1750" y="685" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="710" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">KV Storage</text>
                        </g>
                        <g class="arch-block-2 block2-right-3b">
                            <rect x="1750" y="760" width="110" height="40" rx="8" fill="rgba(74,222,128,0.06)" stroke="rgba(74,222,128,0.25)" stroke-width="1"/>
                            <text x="1805" y="785" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-family="'Space Grotesk', sans-serif" font-size="11">R2 Buckets</text>
                        </g>
                    </g>
                    
                    <!-- Footer text -->
                    <text x="960" y="1040" text-anchor="middle" fill="rgba(255,255,255,0.3)" 
                          font-family="'Space Grotesk', sans-serif" font-size="12">
                        Zero-knowledge architecture - Server processes only encrypted data
                    </text>
                </svg>
            </div>
        </div>

        <!-- Impact Flash Overlay -->
        <div class="impact-flash" id="impactFlash"></div>

        <!-- Content Layer: SOLink Presentation -->
        <div class="content-layer" id="layerPresentation">
            <div class="slide-content">
                <div class="security-stage">
                    <div class="security-card-frame">
                        <svg id="securityCard" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                            <!-- Grid lines - appear instantly -->
                            <g class="sec-grid-lines">
                                <line x1="0" y1="120" x2="1920" y2="120" stroke="rgba(255,255,255,0.06)" stroke-width="1"/>
                                <line x1="0" y1="960" x2="1920" y2="960" stroke="rgba(255,255,255,0.06)" stroke-width="1"/>
                                <line x1="0" y1="200" x2="1920" y2="200" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                                <line x1="0" y1="880" x2="1920" y2="880" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                                <line x1="640" y1="0" x2="640" y2="1080" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                                <line x1="1280" y1="0" x2="1280" y2="1080" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                            </g>

                            <!-- PHASE 1: Header with frame - IMPACT on beat -->
                            <g class="sec-frame-lines">
                                <line x1="760" y1="60" x2="760" y2="180" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                                <line x1="1160" y1="60" x2="1160" y2="180" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                                <line x1="720" y1="90" x2="1200" y2="90" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                                <line x1="720" y1="150" x2="1200" y2="150" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                            </g>
                            
                            <text class="sec-header" x="960" y="128" text-anchor="middle" dominant-baseline="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="52" letter-spacing="0.15em" fill="#FFFFFF">SOLINK</text>

                            <text class="sec-subtitle" x="960" y="220" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="24" letter-spacing="0.25em" fill="rgba(255,255,255,0.6)">SECURITY AND ENCRYPTION</text>
                            
                            <text class="sec-desc" x="960" y="290" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="18" fill="rgba(255,255,255,0.45)">End-to-end encryption. Server never sees plaintext. Your data, your keys.</text>

                            <!-- PHASE 2: Cards slam in from different directions -->
                            <g class="sec-card card-key" id="secCardKey" transform="translate(120, 340)">
                                <rect width="520" height="200" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(135,82,255,0.2)" stroke-width="1"/>
                                <g transform="translate(40, 50)">
                                    <circle cx="20" cy="20" r="18" stroke="#8752FF" stroke-width="2" fill="none"/>
                                    <path d="M14 20L18 24L26 16" stroke="#8752FF" stroke-width="2" fill="none"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Key Exchange</text>
                                <text x="100" y="75" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="18" fill="#8752FF">X25519</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Elliptic curve Diffie-Hellman</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">for secure key derivation.</text>
                                <text x="100" y="160" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">Shared secret computed client-side.</text>
                            </g>

                            <g class="sec-card card-msg" id="secCardMsg" transform="translate(700, 340)">
                                <rect width="520" height="200" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,115,175,0.2)" stroke-width="1"/>
                                <g transform="translate(40, 50)">
                                    <rect x="8" y="20" width="24" height="20" rx="3" stroke="#FF73AF" stroke-width="2" fill="none"/>
                                    <path d="M12 20V14C12 10.686 14.686 8 18 8H22C25.314 8 28 10.686 28 14V20" stroke="#FF73AF" stroke-width="2" fill="none"/>
                                    <circle cx="20" cy="32" r="3" fill="#FF73AF"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Message Encryption</text>
                                <text x="100" y="75" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="18" fill="#FF73AF">XSalsa20-Poly1305</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Authenticated encryption from</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">NaCl (TweetNaCl) library.</text>
                                <text x="100" y="160" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">256-bit security level.</text>
                            </g>

                            <g class="sec-card card-voice" id="secCardVoice" transform="translate(1280, 340)">
                                <rect width="520" height="200" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(177,123,255,0.2)" stroke-width="1"/>
                                <g transform="translate(40, 50)" fill="none" stroke="#B17BFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="20" cy="20" r="18" stroke="rgba(177,123,255,0.25)"/>
                                    <!-- Speaker body -->
                                    <path d="M10 20 H15 L22 13 V27 L15 20 H10 Z"/>
                                    <!-- Sound waves -->
                                    <path d="M24 17 C26 19 26 21 24 23"/>
                                    <path d="M27 15 C30 19 30 21 27 25"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Voice Calls</text>
                                <text x="100" y="75" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="18" fill="#B17BFF">DTLS-SRTP</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">WebRTC encryption standard.</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">End-to-end encrypted audio.</text>
                                <text x="100" y="160" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">P2P via Cloudflare TURN.</text>
                            </g>

                            <g class="sec-card card-wallet" id="secCardWallet" transform="translate(120, 580)">
                                <rect width="520" height="180" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <g transform="translate(40, 50)">
                                    <rect x="4" y="12" width="32" height="24" rx="4" stroke="#14F195" stroke-width="2" fill="none"/>
                                    <path d="M4 20H36" stroke="#14F195" stroke-width="2"/>
                                    <circle cx="28" cy="28" r="4" fill="#14F195"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Wallet Authentication</text>
                                <text x="100" y="80" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Ed25519 signature verification</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Nonce-based session tokens</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Replay attack protection</text>
                                <text x="100" y="155" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">No passwords. Just your wallet.</text>
                            </g>

                            <g class="sec-card card-headers" id="secCardHeaders" transform="translate(700, 580)">
                                <rect width="520" height="180" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <g transform="translate(40, 50)">
                                    <rect x="4" y="4" width="32" height="32" rx="4" stroke="#8752FF" stroke-width="2" fill="none"/>
                                    <line x1="4" y1="14" x2="36" y2="14" stroke="#8752FF" stroke-width="2"/>
                                    <line x1="14" y1="4" x2="14" y2="36" stroke="#8752FF" stroke-width="2"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Security Headers</text>
                                <text x="100" y="80" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">CSP - Content Security Policy</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">HSTS - HTTPS enforcement</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">X-Frame-Options protection</text>
                                <text x="100" y="155" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">No inline scripts. All external.</text>
                            </g>

                            <g class="sec-card card-data" id="secCardData" transform="translate(1280, 580)">
                                <rect width="520" height="180" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <g transform="translate(40, 50)">
                                    <path d="M10 28C6 28 4 24 6 20C4 16 8 12 14 14C16 8 24 8 28 12C34 12 36 18 34 22C38 24 36 30 32 30H10Z" stroke="#FF73AF" stroke-width="2" fill="none"/>
                                </g>
                                <text x="100" y="45" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="22" fill="#FFFFFF">Data Protection</text>
                                <text x="100" y="80" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">AES-256-GCM for backups</text>
                                <text x="100" y="105" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Wallet-derived encryption keys</text>
                                <text x="100" y="130" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="15" fill="rgba(255,255,255,0.5)">Rate limiting - 60 msg/min</text>
                                <text x="100" y="155" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">CORS restricted to solink.chat</text>
                            </g>

                            <!-- PHASE 3: Footer elements fade in -->
                            <g class="sec-ratings">
                                <g transform="translate(120, 800)">
                                    <text y="14" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="14" letter-spacing="0.1em" fill="rgba(255,255,255,0.35)">SECURITY RATINGS:</text>

                                    <g transform="translate(200, -5)" class="sec-pulse">
                                        <rect width="120" height="28" rx="14" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.3)" stroke-width="1"/>
                                        <text x="60" y="19" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="12" fill="#14F195">Mozilla A+</text>
                                    </g>

                                    <g transform="translate(340, -5)" class="sec-pulse">
                                        <rect width="120" height="28" rx="14" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.3)" stroke-width="1"/>
                                        <text x="60" y="19" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="12" fill="#14F195">Headers A+</text>
                                    </g>

                                    <g transform="translate(480, -5)">
                                        <rect width="120" height="28" rx="14" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.3)" stroke-width="1"/>
                                        <text x="60" y="19" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="12" fill="#14F195">SSL Labs A</text>
                                    </g>

                                    <g transform="translate(620, -5)" class="sec-pulse">
                                        <rect width="120" height="28" rx="14" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.3)" stroke-width="1"/>
                                        <text x="60" y="19" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="12" fill="#14F195">ImmuniWeb A</text>
                                    </g>
                                </g>
                            </g>

                            <g class="sec-flow">
                                <g transform="translate(120, 860)">
                                    <text y="13" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="14" letter-spacing="0.1em" fill="rgba(255,255,255,0.35)">ENCRYPTION FLOW:</text>

                                    <g transform="translate(200, -10)" class="sec-pulse">
                                        <rect width="140" height="36" rx="8" fill="rgba(135,82,255,0.15)" stroke="rgba(135,82,255,0.3)" stroke-width="1"/>
                                        <text x="70" y="23" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="13" fill="#FFFFFF">Wallet Sign</text>
                                    </g>

                                    <text x="360" y="8" font-family="Space Grotesk, sans-serif" font-size="18" fill="rgba(255,255,255,0.3)">→</text>

                                    <g transform="translate(390, -10)" class="sec-pulse">
                                        <rect width="140" height="36" rx="8" fill="rgba(255,115,175,0.15)" stroke="rgba(255,115,175,0.3)" stroke-width="1"/>
                                        <text x="70" y="23" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="13" fill="#FFFFFF">Key Exchange</text>
                                    </g>

                                    <text x="550" y="8" font-family="Space Grotesk, sans-serif" font-size="18" fill="rgba(255,255,255,0.3)">→</text>

                                    <g transform="translate(580, -10)" class="sec-pulse">
                                        <rect width="140" height="36" rx="8" fill="rgba(177,123,255,0.15)" stroke="rgba(177,123,255,0.3)" stroke-width="1"/>
                                        <text x="70" y="23" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="13" fill="#FFFFFF">Encrypt</text>
                                    </g>

                                    <text x="740" y="8" font-family="Space Grotesk, sans-serif" font-size="18" fill="rgba(255,255,255,0.3)">→</text>

                                    <g transform="translate(770, -10)" class="sec-pulse">
                                        <rect width="160" height="36" rx="8" fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                        <text x="80" y="23" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="13" fill="#FFFFFF">Server (cipher)</text>
                                    </g>
                                </g>
                            </g>

                            <g class="sec-footer">
                                <g transform="translate(0, 920)">
                                    <line x1="120" y1="0" x2="1800" y2="0" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>
                                    <text x="1800" y="35" text-anchor="end" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="16" letter-spacing="0.1em" fill="rgba(255,255,255,0.4)">solink.chat</text>
                                    <text x="120" y="35" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.3)">Zero-knowledge architecture. Your messages, your keys, your privacy.</text>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Layer: Security -->
        <div class="content-layer" id="layerSecurity">
            <div class="slide-content">
                <!-- Security content will be added here -->
            </div>
        </div>

        <!-- Content Layer: Token Scanner -->
        <div class="content-layer" id="layerTokenScanner">
            <div class="slide-content">
                <div class="token-scanner-stage">
                    <div class="token-scanner-frame">
                        <svg id="tokenScannerCard" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                            <!-- Decorative grid lines -->
                            <g class="ts-grid-lines">
                                <line x1="0" y1="80" x2="1920" y2="80" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line x1="0" y1="1000" x2="1920" y2="1000" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                            </g>

                            <!-- Title -->
                            <text class="ts-title" x="960" y="50" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="18" letter-spacing="0.2em" fill="rgba(255,255,255,0.4)">TOKEN SCANNER SYSTEM</text>

                            <!-- Main connection lines - PHASE 2 -->
                            <g class="ts-main-lines">
                                <!-- Left branch -->
                                <path class="ts-line ts-line-l1" d="M 820 440 Q 650 440 450 300" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                                <path class="ts-line ts-line-l2" d="M 820 540 L 450 540" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                                <path class="ts-line ts-line-l3" d="M 820 640 Q 650 640 450 780" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                                <!-- Right branch -->
                                <path class="ts-line ts-line-r1" d="M 1100 440 Q 1270 440 1470 300" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                                <path class="ts-line ts-line-r2" d="M 1100 540 L 1470 540" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                                <path class="ts-line ts-line-r3" d="M 1100 640 Q 1270 640 1470 780" stroke="rgba(255,255,255,0.08)" stroke-width="2" fill="none"/>
                            </g>

                            <!-- Secondary connection lines - PHASE 4 -->
                            <g class="ts-secondary-lines">
                                <!-- Left sub-connections -->
                                <line class="ts-line-2 ts-line-2-l1a" x1="450" y1="300" x2="220" y2="200" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-l1b" x1="450" y1="300" x2="220" y2="300" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-l1c" x1="450" y1="300" x2="220" y2="400" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-l3a" x1="450" y1="780" x2="220" y2="680" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-l3b" x1="450" y1="780" x2="220" y2="780" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-l3c" x1="450" y1="780" x2="220" y2="880" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <!-- Right sub-connections -->
                                <line class="ts-line-2 ts-line-2-r1a" x1="1470" y1="300" x2="1700" y2="200" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-r1b" x1="1470" y1="300" x2="1700" y2="300" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-r1c" x1="1470" y1="300" x2="1700" y2="400" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-r3a" x1="1470" y1="780" x2="1700" y2="680" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-r3b" x1="1470" y1="780" x2="1700" y2="780" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                                <line class="ts-line-2 ts-line-2-r3c" x1="1470" y1="780" x2="1700" y2="880" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                            </g>

                            <!-- Connection dots -->
                            <g class="ts-dots" fill="rgba(255,255,255,0.15)">
                                <circle cx="650" cy="440" r="3"/>
                                <circle cx="650" cy="640" r="3"/>
                                <circle cx="1270" cy="440" r="3"/>
                                <circle cx="1270" cy="640" r="3"/>
                            </g>

                            <!-- PHASE 1: Central TOKEN SCANNER node -->
                            <g class="ts-center" transform="translate(960, 540)">
                                <rect x="-140" y="-100" width="280" height="200" rx="16" fill="rgba(135,82,255,0.15)" stroke="rgba(135,82,255,0.4)" stroke-width="2"/>
                                <g transform="translate(-30, -60)">
                                    <circle cx="30" cy="20" r="18" stroke="#8752FF" stroke-width="2" fill="none"/>
                                    <line x1="43" y1="33" x2="55" y2="45" stroke="#8752FF" stroke-width="2" stroke-linecap="round"/>
                                    <circle cx="30" cy="20" r="8" stroke="#8752FF" stroke-width="1.5" fill="none" opacity="0.6"/>
                                </g>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="28" fill="#FFFFFF">TOKEN</text>
                                <text x="0" y="45" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="28" fill="#FFFFFF">SCANNER</text>
                                <text x="0" y="75" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="12" fill="rgba(255,255,255,0.5)">Two Modes: Manual + Auto</text>
                            </g>

                            <!-- Labels - positioned above side sub-blocks -->
                            <text class="ts-label ts-label-left" x="220" y="130" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="16" letter-spacing="0.15em" fill="rgba(255,82,82,0.6)">MANUAL SCAN</text>
                            <text class="ts-label ts-label-right" x="1700" y="130" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="16" letter-spacing="0.15em" fill="rgba(177,123,255,0.6)">AUTO PREVIEW</text>

                            <!-- PHASE 3: First level blocks -->
                            <!-- LEFT BRANCH -->
                            <g class="ts-block ts-block-l1" transform="translate(450, 300)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(255,82,82,0.15)" stroke="rgba(255,82,82,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#FF5252">USER INPUT</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Manual Mode</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">Paste Solana mint address</text>
                            </g>

                            <g class="ts-block ts-block-l2" transform="translate(450, 540)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#14F195">DFN PATROL</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Security Analysis</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">dfn.wtf/api/http-report</text>
                            </g>

                            <g class="ts-block ts-block-l3" transform="translate(450, 780)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(255,184,0,0.15)" stroke="rgba(255,184,0,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#FFB800">SECURITY REPORT</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Rug Detection Results</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">Saved in Scanner Chat</text>
                            </g>

                            <!-- RIGHT BRANCH -->
                            <g class="ts-block ts-block-r1" transform="translate(1470, 300)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(177,123,255,0.15)" stroke="rgba(177,123,255,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#B17BFF">LINK DETECTION</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Auto Mode</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">Detects URLs in chat messages</text>
                            </g>

                            <g class="ts-block ts-block-r2" transform="translate(1470, 540)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(0,217,255,0.15)" stroke="rgba(0,217,255,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#00D9FF">DATA AGGREGATION</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Parallel API Requests</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">Pump.fun + DexScreener + Helius</text>
                            </g>

                            <g class="ts-block ts-block-r3" transform="translate(1470, 780)">
                                <rect x="-110" y="-55" width="220" height="110" rx="12" fill="rgba(255,115,175,0.15)" stroke="rgba(255,115,175,0.3)" stroke-width="1"/>
                                <text x="0" y="-20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="20" fill="#FF73AF">IN-CHAT PREVIEW</text>
                                <text x="0" y="10" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.5)">Token Card</text>
                                <text x="0" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="11" fill="rgba(255,255,255,0.35)">Instant snapshot in conversation</text>
                            </g>

                            <!-- PHASE 5: Sub-blocks -->
                            <!-- Left sub-blocks (User Input) -->
                            <g class="ts-subblock ts-sub-l1a" transform="translate(220, 200)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Scanner Chat</text>
                            </g>
                            <g class="ts-subblock ts-sub-l1b" transform="translate(220, 300)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Validate Address</text>
                            </g>
                            <g class="ts-subblock ts-sub-l1c" transform="translate(220, 400)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Send to API</text>
                            </g>

                            <!-- Left sub-blocks (Security Report) - colored -->
                            <g class="ts-subblock ts-sub-l3a" transform="translate(220, 680)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(20,241,149,0.15)" stroke="rgba(20,241,149,0.25)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="#14F195">SAFE</text>
                            </g>
                            <g class="ts-subblock ts-sub-l3b" transform="translate(220, 780)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,184,0,0.15)" stroke="rgba(255,184,0,0.25)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="#FFB800">WARNING</text>
                            </g>
                            <g class="ts-subblock ts-sub-l3c" transform="translate(220, 880)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,82,82,0.15)" stroke="rgba(255,82,82,0.25)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="#FF5252">DANGER</text>
                            </g>

                            <!-- Right sub-blocks (Link Detection) -->
                            <g class="ts-subblock ts-sub-r1a" transform="translate(1700, 200)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="10" fill="rgba(255,255,255,0.6)">Pump.fun / Terminal</text>
                            </g>
                            <g class="ts-subblock ts-sub-r1b" transform="translate(1700, 300)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Dexscreener</text>
                            </g>
                            <g class="ts-subblock ts-sub-r1c" transform="translate(1700, 400)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Axiom</text>
                            </g>

                            <!-- Right sub-blocks (In-Chat Preview) -->
                            <g class="ts-subblock ts-sub-r3a" transform="translate(1700, 680)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Price / MCap</text>
                            </g>
                            <g class="ts-subblock ts-sub-r3b" transform="translate(1700, 780)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Liquidity / Vol</text>
                            </g>
                            <g class="ts-subblock ts-sub-r3c" transform="translate(1700, 880)">
                                <rect x="-65" y="-18" width="130" height="36" rx="8" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                <text x="0" y="5" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="11" fill="rgba(255,255,255,0.6)">Socials / Links</text>
                            </g>

                            <!-- Feature badges (top) - PHASE 5 -->
                            <g class="ts-badge ts-badge-1" transform="translate(520, 120)">
                                <rect width="200" height="40" rx="8" fill="rgba(20,241,149,0.1)" stroke="rgba(20,241,149,0.2)" stroke-width="1"/>
                                <text x="100" y="27" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="600" font-size="13.5" letter-spacing="0.05em" fill="#14F195">DFN Patrol API</text>
                            </g>
                            <g class="ts-badge ts-badge-2" transform="translate(740, 120)">
                                <rect width="200" height="40" rx="8" fill="rgba(255,82,82,0.1)" stroke="rgba(255,82,82,0.2)" stroke-width="1"/>
                                <text x="100" y="27" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="600" font-size="13.5" letter-spacing="0.05em" fill="#FF5252">Rug Detection</text>
                            </g>
                            <g class="ts-badge ts-badge-3" transform="translate(980, 120)">
                                <rect width="200" height="40" rx="8" fill="rgba(0,217,255,0.1)" stroke="rgba(0,217,255,0.2)" stroke-width="1"/>
                                <text x="100" y="27" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="600" font-size="13.5" letter-spacing="0.05em" fill="#00D9FF">Parallel APIs</text>
                            </g>
                            <g class="ts-badge ts-badge-4" transform="translate(1200, 120)">
                                <rect width="200" height="40" rx="8" fill="rgba(255,115,175,0.1)" stroke="rgba(255,115,175,0.2)" stroke-width="1"/>
                                <text x="100" y="27" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="600" font-size="13.5" letter-spacing="0.05em" fill="#FF73AF">Instant Preview</text>
                            </g>

                            <!-- Bottom info bar -->
                            <g class="ts-footer" transform="translate(0, 1020)">
                                <line x1="120" y1="0" x2="1800" y2="0" stroke="rgba(255,255,255,0.06)" stroke-width="1"/>
                                <text x="960" y="35" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="13" fill="rgba(255,255,255,0.3)">Manual security analysis + Automatic rich previews for token links</text>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Layer: CTA (Call to Action) -->
        <div class="content-layer" id="layerCTA">
            <div class="slide-content">
                <div class="cta-stage">
                    <svg class="cta-svg" id="ctaCard" viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid meet" fill="none" xmlns="http://www.w3.org/2000/svg">
                        
                        <!-- Decorative flowing lines - animated draw effect -->
                        <g class="cta-decorative-lines">
                            <!-- Flowing curves from left (purple) -->
                            <path class="cta-line-left-1" d="M 0 200 Q 400 400 300 700 T 100 1080" stroke="rgba(135,82,255,0.12)" stroke-width="1" fill="none"/>
                            <path class="cta-line-left-2" d="M 0 400 Q 500 500 400 800 T 200 1080" stroke="rgba(135,82,255,0.08)" stroke-width="1" fill="none"/>
                            
                            <!-- Flowing curves from right (purple) -->
                            <path class="cta-line-right-1" d="M 1920 200 Q 1520 400 1620 700 T 1820 1080" stroke="rgba(135,82,255,0.12)" stroke-width="1" fill="none"/>
                            <path class="cta-line-right-2" d="M 1920 400 Q 1420 500 1520 800 T 1720 1080" stroke="rgba(135,82,255,0.08)" stroke-width="1" fill="none"/>
                            
                            <!-- Diagonal accent lines -->
                            <path class="cta-line-diag-1" d="M 100 0 L 400 1080" stroke="rgba(135,82,255,0.06)" stroke-width="1" fill="none"/>
                            <path class="cta-line-diag-2" d="M 1820 0 L 1520 1080" stroke="rgba(135,82,255,0.06)" stroke-width="1" fill="none"/>
                            
                            <!-- Horizontal flowing lines (pink) -->
                            <path class="cta-line-horiz-1" d="M 0 600 Q 600 400 960 540 T 1920 480" stroke="rgba(255,115,175,0.08)" stroke-width="1" fill="none"/>
                            <path class="cta-line-horiz-2" d="M 0 700 Q 600 500 960 600 T 1920 550" stroke="rgba(255,115,175,0.06)" stroke-width="1" fill="none"/>
                            
                            <!-- Circular arcs (lilac) -->
                            <circle class="cta-circle-1" cx="960" cy="540" r="400" stroke="rgba(177,123,255,0.08)" stroke-width="1" fill="none"/>
                            <circle class="cta-circle-2" cx="960" cy="540" r="500" stroke="rgba(177,123,255,0.06)" stroke-width="1" fill="none"/>
                            
                            <!-- Grid lines (subtle white) -->
                            <line class="cta-grid-v1" x1="480" y1="0" x2="480" y2="1080" stroke="rgba(255,255,255,0.03)" stroke-width="1"/>
                            <line class="cta-grid-v2" x1="1440" y1="0" x2="1440" y2="1080" stroke="rgba(255,255,255,0.03)" stroke-width="1"/>
                            <line class="cta-grid-h1" x1="0" y1="270" x2="1920" y2="270" stroke="rgba(255,255,255,0.03)" stroke-width="1"/>
                            <line class="cta-grid-h2" x1="0" y1="810" x2="1920" y2="810" stroke="rgba(255,255,255,0.03)" stroke-width="1"/>
                        </g>

                        <!-- SOLINK Logo with frame lines -->
                        <g class="cta-logo-group" transform="translate(960, 150)">
                            <line x1="-200" y1="-60" x2="-200" y2="60" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                            <line x1="200" y1="-60" x2="200" y2="60" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                            <line x1="-240" y1="-30" x2="240" y2="-30" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                            <line x1="-240" y1="30" x2="240" y2="30" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
                            <text x="0" y="4" text-anchor="middle" dominant-baseline="middle" font-family="Space Grotesk, sans-serif" font-weight="500" font-size="52" letter-spacing="0.15em" fill="#FFFFFF">SOLINK</text>
                        </g>

                        <!-- Call to action headline -->
                        <text class="cta-headline" x="960" y="300" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="28" letter-spacing="0.1em" fill="rgba(255,255,255,0.7)">JOIN THE FUTURE OF WEB3 MESSAGING</text>

                        <!-- QR Code Group -->
                        <g class="cta-qr-group" transform="translate(960, 560)">
                            <!-- QR frame -->
                            <rect id="ctaQrFrame" class="cta-qr-frame" x="-135" y="-135" width="270" height="270" rx="16" fill="rgba(255,255,255,0.03)" stroke="rgba(135,82,255,0.25)" stroke-width="1"/>
                            
                            <!-- QR Code for solink.chat -->
                            <g transform="translate(-100, -100) scale(8)">
                                <rect width="25" height="25" fill="#FFFFFF" rx="0.5"/>
                                <path stroke="#000000" stroke-width="1" d="M0 0.5h7m2 0h2m1 0h3m3 0h7M0 1.5h1m5 0h1m1 0h5m5 0h1m5 0h1M0 2.5h1m1 0h3m1 0h1m1 0h2m2 0h1m1 0h2m2 0h1m1 0h3m1 0h1M0 3.5h1m1 0h3m1 0h1m1 0h6m1 0h2m1 0h1m1 0h3m1 0h1M0 4.5h1m1 0h3m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1M0 5.5h1m5 0h1m3 0h3m1 0h1m1 0h1m1 0h1m5 0h1M0 6.5h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7M8 7.5h2m2 0h1m2 0h1M0 8.5h1m5 0h1m1 0h1m6 0h1m1 0h2m2 0h3M0 9.5h1m1 0h3m2 0h1m1 0h3m1 0h3m3 0h5M0 10.5h1m5 0h2m3 0h1m1 0h3m1 0h1m1 0h3m1 0h2M1 11.5h1m1 0h1m4 0h2m2 0h2m1 0h3m3 0h1m2 0h1M3 12.5h1m1 0h3m2 0h1m1 0h2m2 0h1m1 0h1m5 0h1M0 13.5h1m1 0h1m1 0h1m10 0h1m3 0h1m3 0h1M0 14.5h1m2 0h2m1 0h1m1 0h1m1 0h3m2 0h3m1 0h3m1 0h2M0 15.5h1m7 0h1m2 0h1m3 0h2m1 0h2m1 0h2m1 0h1M0 16.5h1m1 0h3m1 0h1m2 0h1m1 0h1m4 0h5m1 0h1M8 17.5h1m3 0h3m1 0h1m3 0h1M0 18.5h7m3 0h2m4 0h1m1 0h1m1 0h1m3 0h1M0 19.5h1m5 0h1m5 0h2m1 0h2m3 0h1m2 0h1M0 20.5h1m1 0h3m1 0h1m2 0h2m1 0h1m1 0h7m1 0h1m1 0h1M0 21.5h1m1 0h3m1 0h1m2 0h1m4 0h1m2 0h2m4 0h2M0 22.5h1m1 0h3m1 0h1m3 0h3m3 0h1m4 0h2m1 0h1M0 23.5h1m5 0h1m4 0h1m2 0h1m1 0h1m2 0h2m3 0h1M0 24.5h7m1 0h3m2 0h2m1 0h1m1 0h1m2 0h1m2 0h1"/>
                            </g>
                            
                            <!-- Scan hint -->
                            <text x="0" y="165" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="14" fill="rgba(255,255,255,0.4)">Scan to open</text>
                        </g>

                        <!-- Subtext -->
                        <text class="cta-subtext" x="960" y="800" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="300" font-size="18" fill="rgba(255,255,255,0.5)">Connect your wallet and start messaging securely</text>

                        <!-- Website URL -->
                        <text class="cta-url" x="960" y="980" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-weight="400" font-size="32" letter-spacing="0.2em" fill="rgba(255,255,255,0.25)">solink.chat</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Final Fade Overlay -->
        <div class="final-fade-overlay" id="finalFadeOverlay"></div>

        <!-- End Overlay with buttons -->
        <div class="end-overlay" id="endOverlay">
            <div class="end-message">Trust code, not companies.</div>
            <div class="end-actions">
                <button class="end-btn primary" id="btnRestart">One more loop</button>
                <button class="end-btn" id="btnHome">Back to SOLINK</button>
            </div>
        </div>

        <!-- Timeline Progress Bar -->
        <div class="timeline-progress" id="timelineProgress"></div>

        <!-- Debug Info -->
        <div class="debug-info" id="debugInfo">
            Current: Intro | Time: 0s
        </div>
    </div>

    <!-- Background Audio -->
    <audio id="backgroundAudio" preload="auto">
        <source src="background-presentation.mp3" type="audio/mpeg">
    </audio>

    <!-- Start Overlay (shows if autoplay blocked) -->
    <div class="start-overlay" id="startOverlay">
            <div class="start-button primary">START PRESENTATION</div>
        <div class="start-hint">
            Press Space to pause/resume. Stop anytime to read the slide, then continue with Space.
        </div>
    </div>

    <script>
        // ===== PRESENTATION CONTROLLER =====
        class PresentationController {
            constructor() {
                this.currentSlide = 0;
                this.startTime = null;
                this.isPlaying = false;
                this.cursorTimeout = null;
                this.introStarted = false;
                
                // Timeline configuration (in milliseconds)
                // Total: 58 seconds
                // 0-5.4s: Intro (background fade in with music)
                // 5.4-9.4s: Logo appears on beat drop
                // 9.4-29s: Architecture
                // 29-37.4s: Security (presentation)
                // 37.4-50s: Token Scanner
                // 50-58s: Outro/fade
                this.timeline = [
                    { id: 'intro', start: 0, end: 5400, layer: null },
                    { id: 'logo', start: 5400, end: 9400, layer: 'layerLogo' },
                    { id: 'architecture', start: 9400, end: 29000, layer: 'layerArchitecture' },
                    { id: 'presentation', start: 29000, end: 37400, layer: 'layerPresentation' },
                    { id: 'tokenScanner', start: 37400, end: 45500, layer: 'layerTokenScanner' },
                    { id: 'cta', start: 45500, end: 58000, layer: 'layerCTA' },
                ];
                
                this.totalDuration = 58000; // 58 seconds
                
                // DOM elements
                this.elements = {
                    presentation: document.getElementById('presentation'),
                    loadingOverlay: document.getElementById('loadingOverlay'),
                    startOverlay: document.getElementById('startOverlay'),
                    glowPurple: document.getElementById('glowPurple'),
                    glowPink: document.getElementById('glowPink'),
                    logoContainer: document.getElementById('logoContainer'),
                    timelineProgress: document.getElementById('timelineProgress'),
                    debugInfo: document.getElementById('debugInfo'),
                    audio: document.getElementById('backgroundAudio'),
                    bgLayers: document.querySelectorAll('.bg-layer'),
                };
                
                this.layers = {};
                this.timeline.forEach(item => {
                    if (item.layer) {
                        this.layers[item.id] = document.getElementById(item.layer);
                    }
                });

                // Highlight targets
                this.sideBlocks = document.querySelectorAll(`
                    .block-left-top,
                    .block-left-mid,
                    .block-left-bot,
                    .block-right-top,
                    .block-right-mid,
                    .block-right-bot
                `);
                this.centerBlock = document.querySelector('.arch-center-block');
                this.sideHighlightApplied = false;
                this.sideHighlightCleared = false;
                this.centerHighlightApplied = false;
                
                // Security slide elements
                this.securityCard = document.getElementById('securityCard');
                this.impactFlash = document.getElementById('impactFlash');
                this.layerArchitecture = document.getElementById('layerArchitecture');
                this.layerPresentation = document.getElementById('layerPresentation');
                this.securityTimeouts = [];
                
                // Token Scanner slide elements
                this.tokenScannerCard = document.getElementById('tokenScannerCard');
                this.tokenScannerTimeouts = [];

                // CTA slide elements
                this.ctaCard = document.getElementById('ctaCard');
                this.ctaQrFrame = document.getElementById('ctaQrFrame');
                this.ctaTimeouts = [];
                this.finalFadeOverlay = document.getElementById('finalFadeOverlay');
                this.fadeOutStarted = false;

                // End overlay
                this.endOverlay = document.getElementById('endOverlay');
                this.btnRestart = document.getElementById('btnRestart');
                this.btnHome = document.getElementById('btnHome');
                this.hasEnded = false;

                // Security arp elements
                this.securityArpCards = [
                    document.getElementById('secCardKey'),
                    document.getElementById('secCardMsg'),
                    document.getElementById('secCardVoice'),
                    document.getElementById('secCardWallet'),
                    document.getElementById('secCardHeaders'),
                    document.getElementById('secCardData'),
                ];
                this.securityArpTimeouts = [];
            }
            
            init() {
                // Setup cursor hiding
                this.setupCursorHiding();
                
                // Setup keyboard controls
                this.setupKeyboardControls();

                // Setup end buttons
                this.setupEndButtons();

                // Wait for explicit user start (click/space) after loading overlay fades
                setTimeout(() => {
                    this.showStartOverlay();
                }, 300);
            }
            
            start() {
                this.isPlaying = true;
                this.startTime = performance.now();
                this.introStarted = false;
                this.fadeOutStarted = false;
                this.hasEnded = false;
                if (this.endOverlay) this.endOverlay.classList.remove('show');
                    
                // Start audio
                this.elements.audio.currentTime = 0;
                this.elements.audio.play().catch(() => {
                    // If playback fails, pause state
                    this.isPlaying = false;
                });
                
                if (this.isPlaying) {
                    this.update();
                }
            }
            
            update() {
                if (!this.isPlaying) return;
                
                const elapsed = performance.now() - this.startTime;
                const progress = Math.min(elapsed / this.totalDuration, 1);
                
                // Update progress bar
                this.elements.timelineProgress.style.width = `${progress * 100}%`;
                
                // Start intro fade-in of background at the very beginning
                if (!this.introStarted && elapsed >= 0) {
                    this.introStarted = true;
                    this.fadeInBackground();
                }
                
                // Check which slides should be active
                this.timeline.forEach((item, index) => {
                    if (!item.layer) return; // Skip intro
                    
                    const layer = this.layers[item.id];
                    if (!layer) return;
                    
                    if (elapsed >= item.start && elapsed < item.end) {
                        if (!layer.classList.contains('active')) {
                            layer.classList.add('active');
                            this.onSlideEnter(item, index);
                        }
                    } else {
                        if (layer.classList.contains('active')) {
                            layer.classList.remove('active');
                            this.onSlideExit(item, index);
                        }
                    }
                });
                
                // Update debug info
                const currentItem = this.timeline.find(item => 
                    elapsed >= item.start && elapsed < item.end
                ) || this.timeline[this.timeline.length - 1];
                this.elements.debugInfo.textContent = 
                    `Current: ${currentItem.id} | Time: ${(elapsed / 1000).toFixed(1)}s`;

                // Timed highlights for architecture slide (absolute time)
                this.handleArchitectureHighlights(elapsed);
                
                // Final fade out at 55s (overlay on top of CTA)
                if (elapsed >= 55000 && !this.fadeOutStarted) {
                    this.fadeOutStarted = true;
                    if (this.finalFadeOverlay) {
                        this.finalFadeOverlay.classList.add('fade-active');
                    }
                }
                
                // Continue or finish
                if (elapsed < this.totalDuration) {
                    requestAnimationFrame(() => this.update());
                } else {
                    this.finishPresentation();
                }
            }
            
            finishPresentation() {
                if (this.hasEnded) return;
                this.hasEnded = true;
                this.isPlaying = false;
                // Stop audio at end
                this.elements.audio.pause();
                this.elements.audio.currentTime = this.totalDuration / 1000;
                // Show end overlay
                if (this.endOverlay) {
                    this.endOverlay.classList.add('show');
                }
            }
            
            fadeInBackground() {
                // Fade in all background layers over 5 seconds (synced with music intro)
                this.elements.bgLayers.forEach(layer => {
                    layer.classList.add('fade-in');
                });
            }

            handleArchitectureHighlights(elapsed) {
                // Only care during the architecture window (9.4s - 29s)
                const archStart = 9400;
                const archEnd = 29000;
                if (elapsed < archStart || elapsed > archEnd) return;

                // Side blocks highlight from 21.4s to 25.5s (absolute)
                if (elapsed >= 21400 && !this.sideHighlightApplied) {
                    this.sideHighlightApplied = true;
                    this.sideBlocks.forEach(b => b.classList.add('highlight-side'));
                }

                if (elapsed >= 25500 && !this.sideHighlightCleared) {
                    this.sideHighlightCleared = true;
                    this.sideBlocks.forEach(b => b.classList.remove('highlight-side'));
                }

                // Center highlight starts at 25.5s
                if (elapsed >= 25500 && !this.centerHighlightApplied) {
                    this.centerHighlightApplied = true;
                    if (this.centerBlock) {
                        this.centerBlock.classList.add('highlight-center');
                    }
                }
            }

            resetArchitectureHighlights() {
                this.sideHighlightApplied = false;
                this.sideHighlightCleared = false;
                this.centerHighlightApplied = false;
                this.sideBlocks.forEach(b => b.classList.remove('highlight-side'));
                if (this.centerBlock) {
                    this.centerBlock.classList.remove('highlight-center');
                }
            }

            setupEndButtons() {
                if (this.btnRestart) {
                    this.btnRestart.addEventListener('click', () => {
                        this.restart();
                    });
                }
                if (this.btnHome) {
                    this.btnHome.addEventListener('click', () => {
                        window.location.href = '/';
                    });
                }
            }

            showStartOverlay() {
                // Ensure loading overlay fades out
                this.elements.loadingOverlay.classList.add('fade-out');

                // Show start overlay until user interacts
                this.elements.startOverlay.classList.add('show');

                const begin = () => {
                    // убираем клавиатурный слушатель старта, если остался
                    if (this.handleSpaceStart) {
                        document.removeEventListener('keydown', this.handleSpaceStart);
                        this.handleSpaceStart = null;
                    }
                    this.elements.startOverlay.classList.add('fade-out');
                    this.elements.startOverlay.classList.remove('show');
                    this.start();
                };

                // Click to start
                this.elements.startOverlay.addEventListener('click', begin, { once: true });

                // Space to start
                const handleSpaceStart = (ev) => {
                    if (ev.key === ' ' || ev.key === 'Spacebar' || ev.code === 'Space') {
                        ev.preventDefault();
                        begin();
                    }
                };
                // сохраняем, чтобы снять при клике
                this.handleSpaceStart = handleSpaceStart;
                document.addEventListener('keydown', handleSpaceStart, { once: true });
            }
            
            onSlideEnter(item, index) {
                console.log(`Entering: ${item.id} at ${(performance.now() - this.startTime) / 1000}s`);
                
                if (item.id === 'logo') {
                    // Logo appears exactly at 5.4s on the beat drop
                    this.elements.logoContainer.classList.remove('animate-out');
                    this.elements.logoContainer.classList.add('animate-in');
                    
                    // Schedule fade-out animation closer to the slide end (starts ~9.9s)
                    this.logoFadeOutTimeout = setTimeout(() => {
                        this.elements.logoContainer.classList.remove('animate-in');
                        this.elements.logoContainer.classList.add('animate-out');
                    }, 4600); // ~4.6s after logo appears (5.4 + 4.6 ≈ 10.0s)
                }

                if (item.id === 'presentation') {
                    // CINEMATIC TRANSITION: Beat hit at ~29s
                    // Clear any previous timeouts
                    this.securityTimeouts.forEach(t => clearTimeout(t));
                    this.securityTimeouts = [];
                    this.securityArpTimeouts.forEach(t => clearTimeout(t));
                    this.securityArpTimeouts = [];
                    
                    // PHASE 0: Immediate impact flash + screen shake
                    if (this.impactFlash) {
                        this.impactFlash.classList.add('trigger');
                    }
                    this.elements.presentation.classList.add('screen-shake');
                    
                    // PHASE 1: Header appears on impact (0ms)
                    if (this.securityCard) {
                        this.securityCard.classList.add('phase-1');
                    }
                    
                    // Remove shake after animation
                    this.securityTimeouts.push(setTimeout(() => {
                        this.elements.presentation.classList.remove('screen-shake');
                    }, 400));
                    
                    // Remove flash after animation
                    this.securityTimeouts.push(setTimeout(() => {
                        if (this.impactFlash) {
                            this.impactFlash.classList.remove('trigger');
                        }
                    }, 350));
                    
                    // PHASE 2: Cards slam in (after 350ms)
                    this.securityTimeouts.push(setTimeout(() => {
                        if (this.securityCard) {
                            this.securityCard.classList.add('phase-2');
                        }
                    }, 350));
                    
                    // PHASE 3: Footer elements fade in (after 1200ms)
                    this.securityTimeouts.push(setTimeout(() => {
                        if (this.securityCard) {
                            this.securityCard.classList.add('phase-3');
                        }
                    }, 1200));

                    // ARP: continuous flashes across all 6 cards until slide ends (fast tempo)
                    const arpTargets = this.securityArpCards.filter(Boolean);
                    let arpIndex = 0;
                    const arpPeriod = 260; // ms between pulses (faster)
                    const arpStartDelay = 120;
                    const arpStopDelay = 7800; // run nearly all slide duration (~8s)
                    const arpInterval = setInterval(() => {
                        const card = arpTargets[arpIndex % arpTargets.length];
                        arpIndex += 1;
                        if (!card) return;
                        card.classList.add('arp-glow');
                        const remT = setTimeout(() => card.classList.remove('arp-glow'), 170);
                        this.securityArpTimeouts.push(remT);
                    }, arpPeriod);
                    const startT = setTimeout(() => {
                        // kick off immediately at start delay
                        const card = arpTargets[arpIndex % arpTargets.length];
                        arpIndex += 1;
                        if (card) {
                            card.classList.add('arp-glow');
                            const remT = setTimeout(() => card.classList.remove('arp-glow'), 260);
                            this.securityArpTimeouts.push(remT);
                        }
                    }, arpStartDelay);
                    const stopT = setTimeout(() => {
                        clearInterval(arpInterval);
                    }, arpStopDelay);
                    this.securityArpTimeouts.push(startT, stopT, arpInterval);
                }

                if (item.id === 'tokenScanner') {
                    // CINEMATIC TRANSITION: Beat hit at ~37.4s
                    // Clear any previous timeouts
                    this.tokenScannerTimeouts.forEach(t => clearTimeout(t));
                    this.tokenScannerTimeouts = [];
                    
                    // PHASE 0: Immediate impact flash + screen shake
                    if (this.impactFlash) {
                        this.impactFlash.classList.add('trigger');
                    }
                    this.elements.presentation.classList.add('screen-shake');
                    
                    // PHASE 1: Center block appears on impact (0ms)
                    if (this.tokenScannerCard) {
                        this.tokenScannerCard.classList.add('ts-phase-1');
                    }
                    
                    // Remove shake after animation
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        this.elements.presentation.classList.remove('screen-shake');
                    }, 400));
                    
                    // Remove flash after animation
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        if (this.impactFlash) {
                            this.impactFlash.classList.remove('trigger');
                        }
                    }, 350));
                    
                    // PHASE 2: Main lines crawl out (after 600ms - give center block time to appear)
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        if (this.tokenScannerCard) {
                            this.tokenScannerCard.classList.add('ts-phase-2');
                        }
                    }, 600));
                    
                    // PHASE 3: First level blocks appear (after 2000ms - when lines reach end)
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        if (this.tokenScannerCard) {
                            this.tokenScannerCard.classList.add('ts-phase-3');
                        }
                    }, 2000));
                    
                    // PHASE 4: Secondary lines crawl (after 2800ms)
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        if (this.tokenScannerCard) {
                            this.tokenScannerCard.classList.add('ts-phase-4');
                        }
                    }, 2800));
                    
                    // PHASE 5: Sub-blocks and badges appear (after 3600ms)
                    this.tokenScannerTimeouts.push(setTimeout(() => {
                        if (this.tokenScannerCard) {
                            this.tokenScannerCard.classList.add('ts-phase-5');
                        }
                    }, 3600));
                }

                // CTA SLIDE - Final impact and calm reveal
                if (item.id === 'cta') {
                    const layerCTA = document.getElementById('layerCTA');
                    const layerTokenScanner = document.getElementById('layerTokenScanner');
                    
                    // Clear any previous CTA timeouts
                    this.ctaTimeouts.forEach(t => clearTimeout(t));
                    this.ctaTimeouts = [];
                    
                    // Token Scanner swipes out
                    if (layerTokenScanner) {
                        layerTokenScanner.classList.add('ts-exit-swipe');
                    }
                    
                    // Impact flash for final beat
                    if (this.impactFlash) {
                        this.impactFlash.classList.add('trigger');
                    }
                    this.elements.presentation.classList.add('screen-shake');
                    
                    // PHASE 1: Logo slams in on impact (0ms)
                    if (layerCTA) {
                        layerCTA.classList.add('cta-phase-1');
                    }
                    
                    // Remove shake after animation
                    this.ctaTimeouts.push(setTimeout(() => {
                        this.elements.presentation.classList.remove('screen-shake');
                    }, 400));
                    
                    // Remove flash
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (this.impactFlash) {
                            this.impactFlash.classList.remove('trigger');
                        }
                    }, 350));
                    
                    // PHASE 2: Headline fades in (after 600ms)
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (layerCTA) {
                            layerCTA.classList.add('cta-phase-2');
                        }
                    }, 600));
                    
                    // PHASE 3: QR code appears (after 1200ms)
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (layerCTA) {
                            layerCTA.classList.add('cta-phase-3');
                        }
                    }, 1200));
                    
                    // PHASE 4: Decorative lines and remaining text (after 2000ms)
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (layerCTA) {
                            layerCTA.classList.add('cta-phase-4');
                        }
                    }, 2000));

                    // QR frame pulses:
                    // Strong pulse at 49.5s (delay from CTA start: 4s)
                    const pulseStrongDelay = 4000; // 49500ms - 45500ms
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (this.ctaQrFrame) {
                            this.ctaQrFrame.classList.add('cqr-pulse-strong');
                        }
                    }, pulseStrongDelay));
                    // Weaker pulse at 53.5s (delay from CTA start: 8s)
                    const pulseWeakDelay = 8000; // 53500ms - 45500ms
                    this.ctaTimeouts.push(setTimeout(() => {
                        if (this.ctaQrFrame) {
                            // remove strong if still present, then weak
                            this.ctaQrFrame.classList.remove('cqr-pulse-strong');
                            this.ctaQrFrame.classList.add('cqr-pulse-weak');
                        }
                    }, pulseWeakDelay));
                }

                
                // Background stays the same throughout presentation
                // (removed transitionToPresentation call)
            }
            
            onSlideExit(item, index) {
                console.log(`Exiting: ${item.id}`);
                
                if (item.id === 'logo') {
                    clearTimeout(this.logoFadeOutTimeout);
                    this.elements.logoContainer.classList.remove('animate-in');
                    this.elements.logoContainer.classList.remove('animate-out');
                }

                if (item.id === 'architecture') {
                    this.resetArchitectureHighlights();
                    // Add dramatic swipe-out animation
                    if (this.layerArchitecture) {
                        this.layerArchitecture.classList.add('exit-swipe');
                        // Reset after animation completes
                        setTimeout(() => {
                            if (this.layerArchitecture) {
                                this.layerArchitecture.classList.remove('exit-swipe');
                            }
                        }, 300);
                    }
                }

                if (item.id === 'presentation') {
                    // Clear all security timeouts
                    this.securityTimeouts.forEach(t => clearTimeout(t));
                    this.securityTimeouts = [];
                    this.securityArpTimeouts.forEach(t => clearTimeout(t));
                    this.securityArpTimeouts = [];
                    
                    // Add dramatic swipe-out animation
                    if (this.layerPresentation) {
                        this.layerPresentation.classList.add('sec-exit-swipe');
                        setTimeout(() => {
                            if (this.layerPresentation) {
                                this.layerPresentation.classList.remove('sec-exit-swipe');
                            }
                        }, 300);
                    }
                    
                    // Reset all phases
                    if (this.securityCard) {
                        this.securityCard.classList.remove('phase-1', 'phase-2', 'phase-3');
                    }
                    if (this.impactFlash) {
                        this.impactFlash.classList.remove('trigger');
                    }
                    this.elements.presentation.classList.remove('screen-shake');

                    // Remove arp glow classes
                    this.securityArpCards.forEach(card => card && card.classList.remove('arp-glow'));
                }

                if (item.id === 'tokenScanner') {
                    // Clear all token scanner timeouts
                    this.tokenScannerTimeouts.forEach(t => clearTimeout(t));
                    this.tokenScannerTimeouts = [];
                    
                    // Reset all phases
                    if (this.tokenScannerCard) {
                        this.tokenScannerCard.classList.remove(
                            'ts-phase-1', 'ts-phase-2', 'ts-phase-3', 
                            'ts-phase-4', 'ts-phase-5'
                        );
                    }
                    if (this.impactFlash) {
                        this.impactFlash.classList.remove('trigger');
                    }
                    this.elements.presentation.classList.remove('screen-shake');
                    
                    // Reset swipe animation
                    const layerTokenScanner = document.getElementById('layerTokenScanner');
                    if (layerTokenScanner) {
                        setTimeout(() => {
                            layerTokenScanner.classList.remove('ts-exit-swipe');
                        }, 400);
                    }
                }

                if (item.id === 'cta') {
                    // Clear all CTA timeouts
                    this.ctaTimeouts.forEach(t => clearTimeout(t));
                    this.ctaTimeouts = [];
                    
                    // Reset all phases
                    const layerCTA = document.getElementById('layerCTA');
                    if (layerCTA) {
                        layerCTA.classList.remove(
                            'cta-phase-1', 'cta-phase-2', 'cta-phase-3', 'cta-phase-4'
                        );
                    }
                    if (this.ctaQrFrame) {
                        this.ctaQrFrame.classList.remove('cqr-pulse-strong', 'cqr-pulse-weak');
                    }
                    if (this.impactFlash) {
                        this.impactFlash.classList.remove('trigger');
                    }
                    this.elements.presentation.classList.remove('screen-shake');
                }

            }
            
            transitionToPresentation() {
                // Move glows to presentation state
                this.elements.glowPurple.classList.add('state-presentation');
                this.elements.glowPink.classList.add('state-presentation');
            }
            
            resetBackgroundState() {
                // Reset background for loop
                this.elements.bgLayers.forEach(layer => {
                    layer.classList.remove('fade-in');
                });
                this.elements.glowPurple.classList.remove('state-presentation');
                this.elements.glowPink.classList.remove('state-presentation');
                this.introStarted = false;
            }
            
            restart() {
                this.resetBackgroundState();
                this.resetArchitectureHighlights();
                
                // Reset security slide phases
                this.securityTimeouts.forEach(t => clearTimeout(t));
                this.securityTimeouts = [];
                this.securityArpTimeouts.forEach(t => clearTimeout(t));
                this.securityArpTimeouts = [];
                // Also clear any pending timeouts on presentation exit
                this.securityArpTimeouts.length = 0;
                if (this.securityCard) {
                    this.securityCard.classList.remove('phase-1', 'phase-2', 'phase-3');
                }
                this.securityArpCards.forEach(card => card && card.classList.remove('arp-glow'));
                if (this.impactFlash) {
                    this.impactFlash.classList.remove('trigger');
                }
                if (this.layerArchitecture) {
                    this.layerArchitecture.classList.remove('exit-swipe');
                }
                if (this.layerPresentation) {
                    this.layerPresentation.classList.remove('sec-exit-swipe');
                }
                this.elements.presentation.classList.remove('screen-shake');
                
                // Reset token scanner slide phases
                this.tokenScannerTimeouts.forEach(t => clearTimeout(t));
                this.tokenScannerTimeouts = [];
                if (this.tokenScannerCard) {
                    this.tokenScannerCard.classList.remove(
                        'ts-phase-1', 'ts-phase-2', 'ts-phase-3', 
                        'ts-phase-4', 'ts-phase-5'
                    );
                }
                const layerTokenScanner = document.getElementById('layerTokenScanner');
                if (layerTokenScanner) {
                    layerTokenScanner.classList.remove('ts-exit-swipe');
                }

                // Reset CTA slide phases
                this.ctaTimeouts.forEach(t => clearTimeout(t));
                this.ctaTimeouts = [];
                const layerCTA = document.getElementById('layerCTA');
                if (layerCTA) {
                    layerCTA.classList.remove(
                        'cta-phase-1', 'cta-phase-2', 'cta-phase-3', 'cta-phase-4'
                    );
                }
                if (this.ctaQrFrame) {
                    this.ctaQrFrame.classList.remove('cqr-pulse-strong', 'cqr-pulse-weak');
                }

                // Reset final fade overlay
                if (this.finalFadeOverlay) {
                    this.finalFadeOverlay.classList.remove('fade-active');
                }
                this.fadeOutStarted = false;
                this.hasEnded = false;
                if (this.endOverlay) this.endOverlay.classList.remove('show');
                
                // Reset playback state and start loop
                this.isPlaying = true;
                this.pausedAt = 0;
                
                this.startTime = performance.now();
                this.elements.audio.currentTime = 0;
                this.elements.audio.play().catch(() => {});
                requestAnimationFrame(() => this.update());
            }
            
            setupCursorHiding() {
                const hideCursor = () => {
                    this.elements.presentation.classList.add('hide-cursor');
                };
                
                const showCursor = () => {
                    this.elements.presentation.classList.remove('hide-cursor');
                    clearTimeout(this.cursorTimeout);
                    this.cursorTimeout = setTimeout(hideCursor, 2000);
                };
                
                document.addEventListener('mousemove', showCursor);
                document.addEventListener('mousedown', showCursor);
                
                // Hide cursor initially after 3 seconds
                this.cursorTimeout = setTimeout(hideCursor, 3000);
            }
            
            setupKeyboardControls() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === ' ' || e.key === 'Spacebar') {
                        e.preventDefault();
                        if (this.hasEnded) return;
                        if (this.isPlaying) {
                            // pause
                            this.pausedAt = performance.now() - this.startTime;
                            this.elements.audio.pause();
                            this.isPlaying = false;
                        } else {
                            // resume
                            this.isPlaying = true;
                            this.startTime = performance.now() - (this.pausedAt || 0);
                            this.elements.audio.play().catch(() => {});
                            this.update();
                        }
                    }
                    
                    if (e.key === 'r' || e.key === 'R') {
                        // Restart
                        this.restart();
                            this.isPlaying = true;
                            this.update();
                    }
                    
                    if (e.key === 'd' || e.key === 'D') {
                        // Toggle debug info
                        this.elements.debugInfo.style.display = 
                            this.elements.debugInfo.style.display === 'none' 
                                ? 'block' : 'none';
                    }
                    
                    if (e.key === 'm' || e.key === 'M') {
                        // Toggle mute
                        this.elements.audio.muted = !this.elements.audio.muted;
                    }
                });
            }
        }
        
        // Initialize presentation when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            const presentation = new PresentationController();
            presentation.init();
        });
    </script>
</body>
</html>

